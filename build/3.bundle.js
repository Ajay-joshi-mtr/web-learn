(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{133:function(t,e,r){var n=r(142);"string"==typeof n&&(n=[[t.i,n,""]]);r(6)(n,{});n.locals&&(t.exports=n.locals)},134:function(t,e){var r=1/0,n=9007199254740991,i=17976931348623157e292,o=NaN,s="[object Function]",a="[object GeneratorFunction]",l="[object Symbol]",u=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,f=/^0o[0-7]+$/i,h=/^(?:0|[1-9]\d*)$/,p=parseInt,v=Object.prototype.toString,m=Math.ceil,g=Math.max;function y(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}function x(t,e,r){if(!w(r))return!1;var i=typeof e;return!!("number"==i?function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=w(t)?v.call(t):"";return e==s||e==a}(t)}(r)&&function(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||h.test(t))&&t>-1&&t%1==0&&t<e}(e,r.length):"string"==i&&e in r)&&function(t,e){return t===e||t!=t&&e!=e}(r[e],t)}function w(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=function(t,e,n){e=(n?x(t,e,n):void 0===e)?1:g(function(t){var e=function(t){if(!t)return 0===t?t:0;if((t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&v.call(t)==l}(t))return o;if(w(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=w(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var r=c.test(t);return r||f.test(t)?p(t.slice(2),r?2:8):d.test(t)?o:+t}(t))===r||t===-r){return(t<0?-1:1)*i}return t==t?t:0}(t),n=e%1;return e==e?n?e-n:e:0}(e),0);var s=t?t.length:0;if(!s||e<1)return[];for(var a=0,h=0,b=Array(m(s/e));a<s;)b[h++]=y(t,a,a+=e);return b}},139:function(t,e,r){t.exports=function(){"use strict";return function(t,e,r){var n=e.prototype;r.en.relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};var i=function(t,e,n,i){for(var o,s,a=n.$locale().relativeTime,l=[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],u=l.length,d=0;d<u;d+=1){var c=l[d];c.d&&(o=i?r(t).diff(n,c.d,!0):n.diff(t,c.d,!0));var f=Math.round(Math.abs(o));if(f<=c.r||!c.r){1===f&&d>0&&(c=l[d-1]),s=a[c.l].replace("%d",f);break}}return e?s:(o>0?a.future:a.past).replace("%s",s)};n.to=function(t,e){return i(t,e,this,!0)},n.from=function(t,e){return i(t,e,this)},n.toNow=function(t){return this.to(r(),t)},n.fromNow=function(t){return this.from(r(),t)}}}()},140:function(t,e,r){"use strict";t.exports=function(t,e){for(var r=[],n=0,i=t.match(/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)W)?(?:(\d*)D)?T?(?:(\d*)H)?(?:(\d*)M)?(?:(\d*)S)?/i),o=[{pos:1,multiplier:31536e3},{pos:2,multiplier:2592e3},{pos:3,multiplier:604800},{pos:4,multiplier:86400},{pos:5,multiplier:3600},{pos:6,multiplier:60},{pos:7,multiplier:1}],s=0;s<o.length;s++)void 0!==i[o[s].pos]&&(n+=parseInt(i[o[s].pos])*o[s].multiplier);var a=n;return n>3599&&(r.push(parseInt(n/3600)),n%=3600),r.push(("0"+parseInt(n/60)).slice(-2)),r.push(("0"+n%60).slice(-2)),void 0===e?r.join(":"):"sec"===e?a:void 0}},141:function(t,e,r){"use strict";var n=r(133);r.n(n).a},142:function(t,e,r){(t.exports=r(5)(!1)).push([t.i,".spinner__wrapper[data-v-54c7522e]{margin-top:40px;height:30px}.spinner[data-v-54c7522e]{animation:rotator-data-v-54c7522e 1.4s linear infinite}@keyframes rotator-data-v-54c7522e{0%{transform:rotate(0deg)}100%{transform:rotate(270deg)}}.path[data-v-54c7522e]{stroke-dasharray:187;stroke-dashoffset:0;transform-origin:center;stroke:#4a8bfa;animation:dash-data-v-54c7522e 1.4s ease-in-out infinite}@keyframes dash-data-v-54c7522e{0%{stroke-dashoffset:187}50%{stroke-dashoffset:46.75;transform:rotate(135deg)}100%{stroke-dashoffset:187;transform:rotate(450deg)}}\n",""])},143:function(t,e,r){"use strict";var n={props:{show:{type:Boolean,default:!1}}},i=(r(141),r(1)),o=Object(i.a)(n,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"level spinner__wrapper"},[e("div",{staticClass:"level-item has-text-centered"},[this.show?e("svg",{staticClass:"spinner",attrs:{width:"30px",height:"30px",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg"}},[e("circle",{staticClass:"path",attrs:{fill:"none","stroke-width":"6","stroke-linecap":"round",cx:"33",cy:"33",r:"30"}})]):this._e()])])},[],!1,null,"54c7522e",null);e.a=o.exports},183:function(t,e,r){"use strict";r.r(e);var n=r(21),i=r(135),o=r(143),s={components:{VideoList:i.a,Spinner:o.a},data:function(){return{videos:[],limit:20,loaded:!1,nextPage:null}},created:function(){this.loaded=!1,this.videos=[],this.nextPage=null,this.loadVideos()},watch:{$route:function(){this.loaded=!1,this.videos=[],this.nextPage=null,this.loadVideos()}},methods:{loadVideos:function(){var t=this;this.loaded=!1;var e={order:this.$route.meta.order,maxResults:this.limit,channelId:this.$route.params.id,pageToken:this.nextPage};n.a.fetchVideos(e).then(function(e){t.loaded=!0,t.$Progress.finish(),e.videos.length?(t.nextPage=e.nextPageToken,e.videos.forEach(function(e){t.videos.push(e)})):t.nextPage=null}).catch(function(){t.loaded=!0,t.$Progress.fail()})},loadMore:function(){this.nextPage&&this.loadVideos()}}},a=r(1),l=Object(a.a)(s,function(){var t=this.$createElement,e=this._self._c||t;return e("section",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:this.loadMore,expression:"loadMore"}],staticClass:"section",attrs:{"infinite-scroll-disabled":!this.loaded}},[e("div",{staticClass:"container"},[e("video-list",{attrs:{videos:this.videos}}),e("spinner",{attrs:{show:!this.loaded}})],1)])},[],!1,null,null,null);e.default=l.exports}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9TcGlubmVyLnZ1ZT9hNDJiIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2guY2h1bmsvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RheWpzL3BsdWdpbi9yZWxhdGl2ZVRpbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3lvdXR1YmUtZHVyYXRpb24tZm9ybWF0L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1NwaW5uZXIudnVlPzg2ZjMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvU3Bpbm5lci52dWU/NGYxOSIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9TcGlubmVyLnZ1ZT9jMjFhIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1NwaW5uZXIudnVlPzAzZTIiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL1NwaW5uZXIudnVlIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1NwaW5uZXIudnVlIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9jaGFubmVscy92aWRlb3MudnVlP2M0ZWUiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL2NoYW5uZWxzL3ZpZGVvcy52dWU/MjY2YyIsIndlYnBhY2s6Ly8vc3JjL3BhZ2VzL2NoYW5uZWxzL3ZpZGVvcy52dWUiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL2NoYW5uZWxzL3ZpZGVvcy52dWUiXSwibmFtZXMiOlsiY29udGVudCIsIm1vZHVsZSIsImkiLCJsb2NhbHMiLCJleHBvcnRzIiwiSU5GSU5JVFkiLCJNQVhfU0FGRV9JTlRFR0VSIiwiTUFYX0lOVEVHRVIiLCJOQU4iLCJmdW5jVGFnIiwiZ2VuVGFnIiwic3ltYm9sVGFnIiwicmVUcmltIiwicmVJc0JhZEhleCIsInJlSXNCaW5hcnkiLCJyZUlzT2N0YWwiLCJyZUlzVWludCIsImZyZWVQYXJzZUludCIsInBhcnNlSW50Iiwib2JqZWN0VG9TdHJpbmciLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsIm5hdGl2ZUNlaWwiLCJNYXRoIiwiY2VpbCIsIm5hdGl2ZU1heCIsIm1heCIsImJhc2VTbGljZSIsImFycmF5Iiwic3RhcnQiLCJlbmQiLCJpbmRleCIsImxlbmd0aCIsInJlc3VsdCIsIkFycmF5IiwiaXNJdGVyYXRlZUNhbGwiLCJ2YWx1ZSIsIm9iamVjdCIsImlzT2JqZWN0IiwidHlwZSIsImlzTGVuZ3RoIiwidGFnIiwiY2FsbCIsImlzRnVuY3Rpb24iLCJpc0FycmF5TGlrZSIsInRlc3QiLCJpc0luZGV4Iiwib3RoZXIiLCJlcSIsInNpemUiLCJndWFyZCIsInVuZGVmaW5lZCIsImlzT2JqZWN0TGlrZSIsImlzU3ltYm9sIiwidmFsdWVPZiIsInJlcGxhY2UiLCJpc0JpbmFyeSIsInNsaWNlIiwidG9OdW1iZXIiLCJ0b0Zpbml0ZSIsInJlbWFpbmRlciIsInRvSW50ZWdlciIsInJlc0luZGV4IiwiZSIsInIiLCJ0IiwibiIsImVuIiwicmVsYXRpdmVUaW1lIiwiZnV0dXJlIiwicGFzdCIsInMiLCJtIiwibW0iLCJoIiwiaGgiLCJkIiwiZGQiLCJNIiwiTU0iLCJ5IiwieXkiLCJvIiwiYSIsIiRsb2NhbGUiLCJ1IiwibCIsImYiLCJkaWZmIiwicm91bmQiLCJhYnMiLCJ0byIsInRoaXMiLCJmcm9tIiwidG9Ob3ciLCJmcm9tTm93IiwiUFQiLCJmb3JtYXQiLCJvdXRwdXQiLCJkdXJhdGlvbkluU2VjIiwibWF0Y2hlcyIsIm1hdGNoIiwicGFydHMiLCJwb3MiLCJtdWx0aXBsaWVyIiwidG90YWxTZWMiLCJwdXNoIiwiam9pbiIsInByb3BzIiwic2hvdyIsIkJvb2xlYW4iLCJkZWZhdWx0IiwiY29tcG9uZW50IiwiX2giLCIkY3JlYXRlRWxlbWVudCIsIl9jIiwiX3NlbGYiLCJzdGF0aWNDbGFzcyIsImF0dHJzIiwiX2UiLCJjb21wb25lbnRzIiwiVmlkZW9MaXN0IiwiU3Bpbm5lciIsImRhdGEiLCJ2aWRlb3MiLCJsaW1pdCIsImxvYWRlZCIsIm5leHRQYWdlIiwiY3JlYXRlZCIsImxvYWRWaWRlb3MiLCJ3YXRjaCIsIiRyb3V0ZSIsIm1ldGhvZHMiLCJvcmRlciIsIm1ldGEiLCJtYXhSZXN1bHRzIiwiY2hhbm5lbElkIiwicGFyYW1zIiwiaWQiLCJwYWdlVG9rZW4iLCJzdG9yZSIsImZvckVhY2giLCJsb2FkTW9yZSIsImRpcmVjdGl2ZXMiLCJuYW1lIiwicmF3TmFtZSIsImV4cHJlc3Npb24iXSwibWFwcGluZ3MiOiI2RUFHQSxJQUFJQSxFQUFVLEVBQVEsS0FDQSxpQkFBWkEsSUFBc0JBLEVBQVUsQ0FBQyxDQUFDQyxFQUFPQyxFQUFJRixFQUFTLE1BRW5ELEVBQVEsRUFBUixDQUF5REEsRUFBUyxJQUM1RUEsRUFBUUcsU0FBUUYsRUFBT0csUUFBVUosRUFBUUcsUyxrQkNHNUMsSUFBSUUsRUFBVyxJQUNYQyxFQUFtQixpQkFDbkJDLEVBQWMsc0JBQ2RDLEVBQU0sSUFHTkMsRUFBVSxvQkFDVkMsRUFBUyw2QkFDVEMsRUFBWSxrQkFHWkMsRUFBUyxhQUdUQyxFQUFhLHFCQUdiQyxFQUFhLGFBR2JDLEVBQVksY0FHWkMsRUFBVyxtQkFHWEMsRUFBZUMsU0FVZkMsRUFQY0MsT0FBT0MsVUFPUUMsU0FHN0JDLEVBQWFDLEtBQUtDLEtBQ2xCQyxFQUFZRixLQUFLRyxJQVdyQixTQUFTQyxFQUFVQyxFQUFPQyxFQUFPQyxHQUMvQixJQUFJQyxHQUFTLEVBQ1RDLEVBQVNKLEVBQU1JLE9BRWZILEVBQVEsSUFDVkEsR0FBU0EsRUFBUUcsRUFBUyxFQUFLQSxFQUFTSCxJQUUxQ0MsRUFBTUEsRUFBTUUsRUFBU0EsRUFBU0YsR0FDcEIsSUFDUkEsR0FBT0UsR0FFVEEsRUFBU0gsRUFBUUMsRUFBTSxFQUFNQSxFQUFNRCxJQUFXLEVBQzlDQSxLQUFXLEVBR1gsSUFEQSxJQUFJSSxFQUFTQyxNQUFNRixLQUNWRCxFQUFRQyxHQUNmQyxFQUFPRixHQUFTSCxFQUFNRyxFQUFRRixHQUVoQyxPQUFP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RyxhQUFhLENBQUNHLE1BQU0sQ0FBQyxPQUE1VDFCLEtBQXlVZ0MsVUFBVVQsRUFBRyxVQUFVLENBQUNHLE1BQU0sQ0FBQyxNQUF4VzFCLEtBQW9Ya0MsV0FBVyxNQUMzWSxJR1VwQixFQUNBLEtBQ0EsS0FDQSxNQUlhLFVBQUFkLEUiLCJmaWxlIjoiMy5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1NwaW5uZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9NTRjNzUyMmUmbGFuZz1zY3NzJnNjb3BlZD10cnVlJlwiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vU3Bpbm5lci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD01NGM3NTIyZSZsYW5nPXNjc3Mmc2NvcGVkPXRydWUmXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vU3Bpbm5lci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD01NGM3NTIyZSZsYW5nPXNjc3Mmc2NvcGVkPXRydWUmXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCIvKipcbiAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgSU5GSU5JVFkgPSAxIC8gMCxcbiAgICBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MSxcbiAgICBNQVhfSU5URUdFUiA9IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4LFxuICAgIE5BTiA9IDAgLyAwO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbnZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG52YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUNlaWwgPSBNYXRoLmNlaWwsXG4gICAgbmF0aXZlTWF4ID0gTWF0aC5tYXg7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2xpY2VgIHdpdGhvdXQgYW4gaXRlcmF0ZWUgY2FsbCBndWFyZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgfVxuICBlbmQgPSBlbmQgPiBsZW5ndGggPyBsZW5ndGggOiBlbmQ7XG4gIGlmIChlbmQgPCAwKSB7XG4gICAgZW5kICs9IGxlbmd0aDtcbiAgfVxuICBsZW5ndGggPSBzdGFydCA+IGVuZCA/IDAgOiAoKGVuZCAtIHN0YXJ0KSA+Pj4gMCk7XG4gIHN0YXJ0ID4+Pj0gMDtcblxuICB2YXIgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICByZXN1bHRbaW5kZXhdID0gYXJyYXlbaW5kZXggKyBzdGFydF07XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAodHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8IHJlSXNVaW50LnRlc3QodmFsdWUpKSAmJlxuICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgdmFsdWUgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp9IGluZGV4IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgaW5kZXggb3Iga2V5IGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBvYmplY3QgYXJndW1lbnQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJdGVyYXRlZUNhbGwodmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciB0eXBlID0gdHlwZW9mIGluZGV4O1xuICBpZiAodHlwZSA9PSAnbnVtYmVyJ1xuICAgICAgICA/IChpc0FycmF5TGlrZShvYmplY3QpICYmIGlzSW5kZXgoaW5kZXgsIG9iamVjdC5sZW5ndGgpKVxuICAgICAgICA6ICh0eXBlID09ICdzdHJpbmcnICYmIGluZGV4IGluIG9iamVjdClcbiAgICAgICkge1xuICAgIHJldHVybiBlcShvYmplY3RbaW5kZXhdLCB2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgc3BsaXQgaW50byBncm91cHMgdGhlIGxlbmd0aCBvZiBgc2l6ZWAuXG4gKiBJZiBgYXJyYXlgIGNhbid0IGJlIHNwbGl0IGV2ZW5seSwgdGhlIGZpbmFsIGNodW5rIHdpbGwgYmUgdGhlIHJlbWFpbmluZ1xuICogZWxlbWVudHMuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IEFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcHJvY2Vzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZT0xXSBUaGUgbGVuZ3RoIG9mIGVhY2ggY2h1bmtcbiAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjaHVua3MuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uY2h1bmsoWydhJywgJ2InLCAnYycsICdkJ10sIDIpO1xuICogLy8gPT4gW1snYScsICdiJ10sIFsnYycsICdkJ11dXG4gKlxuICogXy5jaHVuayhbJ2EnLCAnYicsICdjJywgJ2QnXSwgMyk7XG4gKiAvLyA9PiBbWydhJywgJ2InLCAnYyddLCBbJ2QnXV1cbiAqL1xuZnVuY3Rpb24gY2h1bmsoYXJyYXksIHNpemUsIGd1YXJkKSB7XG4gIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgc2l6ZSwgZ3VhcmQpIDogc2l6ZSA9PT0gdW5kZWZpbmVkKSkge1xuICAgIHNpemUgPSAxO1xuICB9IGVsc2Uge1xuICAgIHNpemUgPSBuYXRpdmVNYXgodG9JbnRlZ2VyKHNpemUpLCAwKTtcbiAgfVxuICB2YXIgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuICBpZiAoIWxlbmd0aCB8fCBzaXplIDwgMSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICB2YXIgaW5kZXggPSAwLFxuICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobmF0aXZlQ2VpbChsZW5ndGggLyBzaXplKSk7XG5cbiAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgcmVzdWx0W3Jlc0luZGV4KytdID0gYmFzZVNsaWNlKGFycmF5LCBpbmRleCwgKGluZGV4ICs9IHNpemUpKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFBlcmZvcm1zIGFcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcSgnYScsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcShOYU4sIE5hTik7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAvLyBpbiBTYWZhcmkgOC05IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5IGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBpc09iamVjdCh2YWx1ZSkgPyBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNMZW5ndGgoMyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoJzMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gc3ltYm9sVGFnKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgZmluaXRlIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTIuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgbnVtYmVyLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvRmluaXRlKDMuMik7XG4gKiAvLyA9PiAzLjJcbiAqXG4gKiBfLnRvRmluaXRlKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gNWUtMzI0XG4gKlxuICogXy50b0Zpbml0ZShJbmZpbml0eSk7XG4gKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICpcbiAqIF8udG9GaW5pdGUoJzMuMicpO1xuICogLy8gPT4gMy4yXG4gKi9cbmZ1bmN0aW9uIHRvRmluaXRlKHZhbHVlKSB7XG4gIGlmICghdmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6IDA7XG4gIH1cbiAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gIGlmICh2YWx1ZSA9PT0gSU5GSU5JVFkgfHwgdmFsdWUgPT09IC1JTkZJTklUWSkge1xuICAgIHZhciBzaWduID0gKHZhbHVlIDwgMCA/IC0xIDogMSk7XG4gICAgcmV0dXJuIHNpZ24gKiBNQVhfSU5URUdFUjtcbiAgfVxuICByZXR1cm4gdmFsdWUgPT09IHZhbHVlID8gdmFsdWUgOiAwO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gaW50ZWdlci5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0ludGVnZXJgXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9pbnRlZ2VyKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvSW50ZWdlcigzLjIpO1xuICogLy8gPT4gM1xuICpcbiAqIF8udG9JbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gMFxuICpcbiAqIF8udG9JbnRlZ2VyKEluZmluaXR5KTtcbiAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gKlxuICogXy50b0ludGVnZXIoJzMuMicpO1xuICogLy8gPT4gM1xuICovXG5mdW5jdGlvbiB0b0ludGVnZXIodmFsdWUpIHtcbiAgdmFyIHJlc3VsdCA9IHRvRmluaXRlKHZhbHVlKSxcbiAgICAgIHJlbWFpbmRlciA9IHJlc3VsdCAlIDE7XG5cbiAgcmV0dXJuIHJlc3VsdCA9PT0gcmVzdWx0ID8gKHJlbWFpbmRlciA/IHJlc3VsdCAtIHJlbWFpbmRlciA6IHJlc3VsdCkgOiAwO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9OdW1iZXIoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAqIC8vID0+IEluZmluaXR5XG4gKlxuICogXy50b051bWJlcignMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIE5BTjtcbiAgfVxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICB9XG4gIHZhbHVlID0gdmFsdWUucmVwbGFjZShyZVRyaW0sICcnKTtcbiAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgcmV0dXJuIChpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkpXG4gICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY2h1bms7XG4iLCIhZnVuY3Rpb24oZSxyKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1yKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShyKTplLmRheWpzX3BsdWdpbl9yZWxhdGl2ZVRpbWU9cigpfSh0aGlzLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIGZ1bmN0aW9uKGUscix0KXt2YXIgbj1yLnByb3RvdHlwZTt0LmVuLnJlbGF0aXZlVGltZT17ZnV0dXJlOlwiaW4gJXNcIixwYXN0OlwiJXMgYWdvXCIsczpcImEgZmV3IHNlY29uZHNcIixtOlwiYSBtaW51dGVcIixtbTpcIiVkIG1pbnV0ZXNcIixoOlwiYW4gaG91clwiLGhoOlwiJWQgaG91cnNcIixkOlwiYSBkYXlcIixkZDpcIiVkIGRheXNcIixNOlwiYSBtb250aFwiLE1NOlwiJWQgbW9udGhzXCIseTpcImEgeWVhclwiLHl5OlwiJWQgeWVhcnNcIn07dmFyIG89ZnVuY3Rpb24oZSxyLG4sbyl7Zm9yKHZhciBkLGksYT1uLiRsb2NhbGUoKS5yZWxhdGl2ZVRpbWUsdT1be2w6XCJzXCIscjo0NCxkOlwic2Vjb25kXCJ9LHtsOlwibVwiLHI6ODl9LHtsOlwibW1cIixyOjQ0LGQ6XCJtaW51dGVcIn0se2w6XCJoXCIscjo4OX0se2w6XCJoaFwiLHI6MjEsZDpcImhvdXJcIn0se2w6XCJkXCIscjozNX0se2w6XCJkZFwiLHI6MjUsZDpcImRheVwifSx7bDpcIk1cIixyOjQ1fSx7bDpcIk1NXCIscjoxMCxkOlwibW9udGhcIn0se2w6XCJ5XCIscjoxN30se2w6XCJ5eVwiLGQ6XCJ5ZWFyXCJ9XSxmPXUubGVuZ3RoLHM9MDtzPGY7cys9MSl7dmFyIGw9dVtzXTtsLmQmJihkPW8/dChlKS5kaWZmKG4sbC5kLCEwKTpuLmRpZmYoZSxsLmQsITApKTt2YXIgbT1NYXRoLnJvdW5kKE1hdGguYWJzKGQpKTtpZihtPD1sLnJ8fCFsLnIpezE9PT1tJiZzPjAmJihsPXVbcy0xXSksaT1hW2wubF0ucmVwbGFjZShcIiVkXCIsbSk7YnJlYWt9fXJldHVybiByP2k6KGQ+MD9hLmZ1dHVyZTphLnBhc3QpLnJlcGxhY2UoXCIlc1wiLGkpfTtuLnRvPWZ1bmN0aW9uKGUscil7cmV0dXJuIG8oZSxyLHRoaXMsITApfSxuLmZyb209ZnVuY3Rpb24oZSxyKXtyZXR1cm4gbyhlLHIsdGhpcyl9LG4udG9Ob3c9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudG8odCgpLGUpfSxuLmZyb21Ob3c9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZnJvbSh0KCksZSl9fX0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBwYXJzZUR1cmF0aW9uKFBULCBmb3JtYXQpIHtcbiAgdmFyIG91dHB1dCA9IFtdO1xuICB2YXIgZHVyYXRpb25JblNlYyA9IDA7XG4gIHZhciBtYXRjaGVzID0gUFQubWF0Y2goL1AoPzooXFxkKilZKT8oPzooXFxkKilNKT8oPzooXFxkKilXKT8oPzooXFxkKilEKT9UPyg/OihcXGQqKUgpPyg/OihcXGQqKU0pPyg/OihcXGQqKVMpPy9pKTtcbiAgdmFyIHBhcnRzID0gW1xuICAgIHsgLy8geWVhcnNcbiAgICAgIHBvczogMSxcbiAgICAgIG11bHRpcGxpZXI6IDg2NDAwICogMzY1XG4gICAgfSxcbiAgICB7IC8vIG1vbnRoc1xuICAgICAgcG9zOiAyLFxuICAgICAgbXVsdGlwbGllcjogODY0MDAgKiAzMFxuICAgIH0sXG4gICAgeyAvLyB3ZWVrc1xuICAgICAgcG9zOiAzLFxuICAgICAgbXVsdGlwbGllcjogNjA0ODAwXG4gICAgfSxcbiAgICB7IC8vIGRheXNcbiAgICAgIHBvczogNCxcbiAgICAgIG11bHRpcGxpZXI6IDg2NDAwXG4gICAgfSxcbiAgICB7IC8vIGhvdXJzXG4gICAgICBwb3M6IDUsXG4gICAgICBtdWx0aXBsaWVyOiAzNjAwXG4gICAgfSxcbiAgICB7IC8vIG1pbnV0ZXNcbiAgICAgIHBvczogNixcbiAgICAgIG11bHRpcGxpZXI6IDYwXG4gICAgfSxcbiAgICB7IC8vIHNlY29uZHNcbiAgICAgIHBvczogNyxcbiAgICAgIG11bHRpcGxpZXI6IDFcbiAgICB9XG4gIF07XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIGlmICh0eXBlb2YgbWF0Y2hlc1twYXJ0c1tpXS5wb3NdICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICBkdXJhdGlvbkluU2VjICs9IHBhcnNlSW50KG1hdGNoZXNbcGFydHNbaV0ucG9zXSkgKiBwYXJ0c1tpXS5tdWx0aXBsaWVyO1xuICAgIH1cbiAgfVxuICB2YXIgdG90YWxTZWMgPSBkdXJhdGlvbkluU2VjO1xuICAvLyBIb3VycyBleHRyYWN0aW9uXG4gIGlmIChkdXJhdGlvbkluU2VjID4gMzU5OSkge1xuICAgIG91dHB1dC5wdXNoKHBhcnNlSW50KGR1cmF0aW9uSW5TZWMgLyAzNjAwKSk7XG4gICAgZHVyYXRpb25JblNlYyAlPSAzNjAwO1xuICB9XG4gIC8vIE1pbnV0ZXMgZXh0cmFjdGlvbiB3aXRoIGxlYWRpbmcgemVyb1xuICBvdXRwdXQucHVzaCgoJzAnICsgcGFyc2VJbnQoZHVyYXRpb25JblNlYyAvIDYwKSkuc2xpY2UoLTIpKTtcbiAgLy8gU2Vjb25kcyBleHRyYWN0aW9uIHdpdGggbGVhZGluZyB6ZXJvXG4gIG91dHB1dC5wdXNoKCgnMCcgKyBkdXJhdGlvbkluU2VjICUgNjApLnNsaWNlKC0yKSk7XG4gIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gb3V0cHV0LmpvaW4oJzonKTtcbiAgZWxzZSBpZiAoZm9ybWF0ID09PSAnc2VjJylcbiAgICByZXR1cm4gdG90YWxTZWM7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcnNlRHVyYXRpb247XG4iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1NwaW5uZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9NTRjNzUyMmUmbGFuZz1zY3NzJnNjb3BlZD10cnVlJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1NwaW5uZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9NTRjNzUyMmUmbGFuZz1zY3NzJnNjb3BlZD10cnVlJlwiIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuc3Bpbm5lcl9fd3JhcHBlcltkYXRhLXYtNTRjNzUyMmVde21hcmdpbi10b3A6NDBweDtoZWlnaHQ6MzBweH0uc3Bpbm5lcltkYXRhLXYtNTRjNzUyMmVde2FuaW1hdGlvbjpyb3RhdG9yLWRhdGEtdi01NGM3NTIyZSAxLjRzIGxpbmVhciBpbmZpbml0ZX1Aa2V5ZnJhbWVzIHJvdGF0b3ItZGF0YS12LTU0Yzc1MjJlezAle3RyYW5zZm9ybTpyb3RhdGUoMGRlZyl9MTAwJXt0cmFuc2Zvcm06cm90YXRlKDI3MGRlZyl9fS5wYXRoW2RhdGEtdi01NGM3NTIyZV17c3Ryb2tlLWRhc2hhcnJheToxODc7c3Ryb2tlLWRhc2hvZmZzZXQ6MDt0cmFuc2Zvcm0tb3JpZ2luOmNlbnRlcjtzdHJva2U6IzRhOGJmYTthbmltYXRpb246ZGFzaC1kYXRhLXYtNTRjNzUyMmUgMS40cyBlYXNlLWluLW91dCBpbmZpbml0ZX1Aa2V5ZnJhbWVzIGRhc2gtZGF0YS12LTU0Yzc1MjJlezAle3N0cm9rZS1kYXNob2Zmc2V0OjE4N301MCV7c3Ryb2tlLWRhc2hvZmZzZXQ6NDYuNzU7dHJhbnNmb3JtOnJvdGF0ZSgxMzVkZWcpfTEwMCV7c3Ryb2tlLWRhc2hvZmZzZXQ6MTg3O3RyYW5zZm9ybTpyb3RhdGUoNDUwZGVnKX19XFxuXCIsIFwiXCJdKTtcbiIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7dmFyIF92bT10aGlzO3ZhciBfaD1fdm0uJGNyZWF0ZUVsZW1lbnQ7dmFyIF9jPV92bS5fc2VsZi5fY3x8X2g7cmV0dXJuIF9jKCdkaXYnLHtzdGF0aWNDbGFzczpcImxldmVsIHNwaW5uZXJfX3dyYXBwZXJcIn0sW19jKCdkaXYnLHtzdGF0aWNDbGFzczpcImxldmVsLWl0ZW0gaGFzLXRleHQtY2VudGVyZWRcIn0sWyhfdm0uc2hvdyk/X2MoJ3N2Zycse3N0YXRpY0NsYXNzOlwic3Bpbm5lclwiLGF0dHJzOntcIndpZHRoXCI6XCIzMHB4XCIsXCJoZWlnaHRcIjpcIjMwcHhcIixcInZpZXdCb3hcIjpcIjAgMCA2NiA2NlwiLFwieG1sbnNcIjpcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJ9fSxbX2MoJ2NpcmNsZScse3N0YXRpY0NsYXNzOlwicGF0aFwiLGF0dHJzOntcImZpbGxcIjpcIm5vbmVcIixcInN0cm9rZS13aWR0aFwiOlwiNlwiLFwic3Ryb2tlLWxpbmVjYXBcIjpcInJvdW5kXCIsXCJjeFwiOlwiMzNcIixcImN5XCI6XCIzM1wiLFwiclwiOlwiMzBcIn19KV0pOl92bS5fZSgpXSldKX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1NwaW5uZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vU3Bpbm5lci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCI8dGVtcGxhdGU+XG48ZGl2IGNsYXNzPVwibGV2ZWwgc3Bpbm5lcl9fd3JhcHBlclwiPlxuICA8ZGl2IGNsYXNzPVwibGV2ZWwtaXRlbSBoYXMtdGV4dC1jZW50ZXJlZFwiPlxuICAgIDxzdmcgY2xhc3M9XCJzcGlubmVyXCIgdi1pZj1cInNob3dcIiB3aWR0aD1cIjMwcHhcIiBoZWlnaHQ9XCIzMHB4XCIgdmlld0JveD1cIjAgMCA2NiA2NlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAgICAgICA8Y2lyY2xlIGNsYXNzPVwicGF0aFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlLXdpZHRoPVwiNlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBjeD1cIjMzXCIgY3k9XCIzM1wiIHI9XCIzMFwiPjwvY2lyY2xlPlxuICAgIDwvc3ZnPlxuICA8L2Rpdj5cbjwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgcHJvcHM6IHtcbiAgICBzaG93OiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICB9XG4gIH1cbn1cbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+XG4kb2Zmc2V0OiAxODc7XG4kZHVyYXRpb246IDEuNHM7XG5cbi5zcGlubmVyX193cmFwcGVyIHtcbiAgbWFyZ2luLXRvcDogNDBweDtcbiAgaGVpZ2h0OiAzMHB4O1xufVxuXG4uc3Bpbm5lciB7XG4gIGFuaW1hdGlvbjogcm90YXRvciAkZHVyYXRpb24gbGluZWFyIGluZmluaXRlO1xufVxuXG5Aa2V5ZnJhbWVzIHJvdGF0b3Ige1xuICAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9XG4gIDEwMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgyNzBkZWcpOyB9XG59XG5cbi5wYXRoIHtcbiAgc3Ryb2tlLWRhc2hhcnJheTogJG9mZnNldDtcbiAgc3Ryb2tlLWRhc2hvZmZzZXQ6IDA7XG4gIHRyYW5zZm9ybS1vcmlnaW46IGNlbnRlcjtcbiAgc3Ryb2tlOiAjNGE4YmZhO1xuICBhbmltYXRpb246XG4gICAgZGFzaCAkZHVyYXRpb24gZWFzZS1pbi1vdXQgaW5maW5pdGU7XG59XG5cbkBrZXlmcmFtZXMgZGFzaCB7XG4gMCUgeyBzdHJva2UtZGFzaG9mZnNldDogJG9mZnNldDsgfVxuIDUwJSB7XG4gICBzdHJva2UtZGFzaG9mZnNldDogJG9mZnNldC80O1xuICAgdHJhbnNmb3JtOnJvdGF0ZSgxMzVkZWcpO1xuIH1cbiAxMDAlIHtcbiAgIHN0cm9rZS1kYXNob2Zmc2V0OiAkb2Zmc2V0O1xuICAgdHJhbnNmb3JtOnJvdGF0ZSg0NTBkZWcpO1xuIH1cbn1cbjwvc3R5bGU+IiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9TcGlubmVyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01NGM3NTIyZSZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9TcGlubmVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vU3Bpbm5lci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vU3Bpbm5lci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD01NGM3NTIyZSZsYW5nPXNjc3Mmc2NvcGVkPXRydWUmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjU0Yzc1MjJlXCIsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ3NlY3Rpb24nLHtkaXJlY3RpdmVzOlt7bmFtZTpcImluZmluaXRlLXNjcm9sbFwiLHJhd05hbWU6XCJ2LWluZmluaXRlLXNjcm9sbFwiLHZhbHVlOihfdm0ubG9hZE1vcmUpLGV4cHJlc3Npb246XCJsb2FkTW9yZVwifV0sc3RhdGljQ2xhc3M6XCJzZWN0aW9uXCIsYXR0cnM6e1wiaW5maW5pdGUtc2Nyb2xsLWRpc2FibGVkXCI6IV92bS5sb2FkZWR9fSxbX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiY29udGFpbmVyXCJ9LFtfYygndmlkZW8tbGlzdCcse2F0dHJzOntcInZpZGVvc1wiOl92bS52aWRlb3N9fSksX2MoJ3NwaW5uZXInLHthdHRyczp7XCJzaG93XCI6IV92bS5sb2FkZWR9fSldLDEpXSl9XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi92aWRlb3MudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vdmlkZW9zLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsIjx0ZW1wbGF0ZSBsYW5nPVwicHVnXCI+XG5zZWN0aW9uLnNlY3Rpb24odi1pbmZpbml0ZS1zY3JvbGw9XCJsb2FkTW9yZVwiLDppbmZpbml0ZS1zY3JvbGwtZGlzYWJsZWQ9XCIhbG9hZGVkXCIpXG4gIC5jb250YWluZXJcbiAgICB2aWRlby1saXN0KDp2aWRlb3M9XCJ2aWRlb3NcIilcbiAgICBzcGlubmVyKDpzaG93PVwiIWxvYWRlZFwiKVxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmltcG9ydCBzdG9yZSBmcm9tICd+c3RvcmUnXG5pbXBvcnQgVmlkZW9MaXN0IGZyb20gJ35jb21wb25lbnRzL1ZpZGVvTGlzdC52dWUnXG5pbXBvcnQgU3Bpbm5lciBmcm9tICd+Y29tcG9uZW50cy9TcGlubmVyLnZ1ZSdcblxuZXhwb3J0IGRlZmF1bHQge1xuICBjb21wb25lbnRzOiB7XG4gICAgVmlkZW9MaXN0LFxuICAgIFNwaW5uZXJcbiAgfSxcbiAgZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdmlkZW9zOiBbXSxcbiAgICAgIGxpbWl0OiAyMCxcbiAgICAgIGxvYWRlZDogZmFsc2UsXG4gICAgICBuZXh0UGFnZTogbnVsbFxuICAgIH1cbiAgfSxcbiAgY3JlYXRlZCgpIHtcbiAgICB0aGlzLmxvYWRlZCA9IGZhbHNlXG4gICAgdGhpcy52aWRlb3MgPSBbXVxuICAgIHRoaXMubmV4dFBhZ2UgPSBudWxsXG4gICAgdGhpcy5sb2FkVmlkZW9zKClcbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICAkcm91dGUoKSB7XG4gICAgICB0aGlzLmxvYWRlZCA9IGZhbHNlXG4gICAgICB0aGlzLnZpZGVvcyA9IFtdXG4gICAgICB0aGlzLm5leHRQYWdlID0gbnVsbFxuICAgICAgdGhpcy5sb2FkVmlkZW9zKClcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBsb2FkVmlkZW9zKCkge1xuICAgICAgdGhpcy5sb2FkZWQgPSBmYWxzZVxuXG4gICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgIG9yZGVyOiB0aGlzLiRyb3V0ZS5tZXRhLm9yZGVyLFxuICAgICAgICBtYXhSZXN1bHRzOiB0aGlzLmxpbWl0LFxuICAgICAgICBjaGFubmVsSWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCxcbiAgICAgICAgcGFnZVRva2VuOiB0aGlzLm5leHRQYWdlXG4gICAgICB9XG5cbiAgICAgIHN0b3JlLmZldGNoVmlkZW9zKHBhcmFtcykudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICB0aGlzLmxvYWRlZCA9IHRydWVcbiAgICAgICAgdGhpcy4kUHJvZ3Jlc3MuZmluaXNoKClcbiAgICAgICAgaWYoIXJlc3VsdC52aWRlb3MubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5uZXh0UGFnZSA9IG51bGxcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5leHRQYWdlID0gcmVzdWx0Lm5leHRQYWdlVG9rZW5cbiAgICAgICAgcmVzdWx0LnZpZGVvcy5mb3JFYWNoKHZpZGVvID0+IHtcbiAgICAgICAgICB0aGlzLnZpZGVvcy5wdXNoKHZpZGVvKVxuICAgICAgICB9KVxuICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICB0aGlzLmxvYWRlZCA9IHRydWVcbiAgICAgICAgdGhpcy4kUHJvZ3Jlc3MuZmFpbCgpXG4gICAgICB9KVxuICAgIH0sXG4gICAgbG9hZE1vcmUoKSB7XG4gICAgICBpZighdGhpcy5uZXh0UGFnZSkgeyByZXR1cm4gfVxuICAgICAgdGhpcy5sb2FkVmlkZW9zKClcbiAgICB9XG4gIH1cbn1cbjwvc2NyaXB0PiIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vdmlkZW9zLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD00OWNlOTkwNSZsYW5nPXB1ZyZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi92aWRlb3MudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi92aWRlb3MudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9