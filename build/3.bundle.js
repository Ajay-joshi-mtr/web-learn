(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{132:function(t,e,r){var n=r(141);"string"==typeof n&&(n=[[t.i,n,""]]);r(6)(n,{});n.locals&&(t.exports=n.locals)},133:function(t,e){var r=1/0,n=9007199254740991,i=17976931348623157e292,o=NaN,s="[object Function]",a="[object GeneratorFunction]",l="[object Symbol]",u=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,c=/^0o[0-7]+$/i,p=/^(?:0|[1-9]\d*)$/,h=parseInt,v=Object.prototype.toString,m=Math.ceil,g=Math.max;function y(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}function x(t,e,r){if(!w(r))return!1;var i=typeof e;return!!("number"==i?function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=w(t)?v.call(t):"";return e==s||e==a}(t)}(r)&&function(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||p.test(t))&&t>-1&&t%1==0&&t<e}(e,r.length):"string"==i&&e in r)&&function(t,e){return t===e||t!=t&&e!=e}(r[e],t)}function w(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=function(t,e,n){e=(n?x(t,e,n):void 0===e)?1:g(function(t){var e=function(t){if(!t)return 0===t?t:0;if((t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&v.call(t)==l}(t))return o;if(w(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=w(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var r=f.test(t);return r||c.test(t)?h(t.slice(2),r?2:8):d.test(t)?o:+t}(t))===r||t===-r){return(t<0?-1:1)*i}return t==t?t:0}(t),n=e%1;return e==e?n?e-n:e:0}(e),0);var s=t?t.length:0;if(!s||e<1)return[];for(var a=0,p=0,b=Array(m(s/e));a<s;)b[p++]=y(t,a,a+=e);return b}},138:function(t,e,r){t.exports=function(){"use strict";return function(t,e,r){var n=e.prototype;r.en.relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};var i=function(t,e,n,i){for(var o,s,a=n.$locale().relativeTime,l=[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],u=l.length,d=0;d<u;d+=1){var f=l[d];f.d&&(o=i?r(t).diff(n,f.d,!0):n.diff(t,f.d,!0));var c=Math.round(Math.abs(o));if(c<=f.r||!f.r){1===c&&d>0&&(f=l[d-1]),s=a[f.l].replace("%d",c);break}}return e?s:(o>0?a.future:a.past).replace("%s",s)};n.to=function(t,e){return i(t,e,this,!0)},n.from=function(t,e){return i(t,e,this)},n.toNow=function(t){return this.to(r(),t)},n.fromNow=function(t){return this.from(r(),t)}}}()},139:function(t,e,r){"use strict";t.exports=function(t,e){for(var r=[],n=0,i=t.match(/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)W)?(?:(\d*)D)?T?(?:(\d*)H)?(?:(\d*)M)?(?:(\d*)S)?/i),o=[{pos:1,multiplier:31536e3},{pos:2,multiplier:2592e3},{pos:3,multiplier:604800},{pos:4,multiplier:86400},{pos:5,multiplier:3600},{pos:6,multiplier:60},{pos:7,multiplier:1}],s=0;s<o.length;s++)void 0!==i[o[s].pos]&&(n+=parseInt(i[o[s].pos])*o[s].multiplier);var a=n;return n>3599&&(r.push(parseInt(n/3600)),n%=3600),r.push(("0"+parseInt(n/60)).slice(-2)),r.push(("0"+n%60).slice(-2)),void 0===e?r.join(":"):"sec"===e?a:void 0}},140:function(t,e,r){"use strict";var n=r(132);r.n(n).a},141:function(t,e,r){(t.exports=r(5)(!1)).push([t.i,".spinner__wrapper[data-v-39432f99]{margin-top:40px;height:30px}.spinner[data-v-39432f99]{animation:rotator-data-v-39432f99 1.4s linear infinite}@keyframes rotator-data-v-39432f99{0%{transform:rotate(0deg)}100%{transform:rotate(270deg)}}.path[data-v-39432f99]{stroke-dasharray:187;stroke-dashoffset:0;transform-origin:center;stroke:#4a8bfa;animation:dash-data-v-39432f99 1.4s ease-in-out infinite}@keyframes dash-data-v-39432f99{0%{stroke-dashoffset:187}50%{stroke-dashoffset:46.75;transform:rotate(135deg)}100%{stroke-dashoffset:187;transform:rotate(450deg)}}\n",""])},142:function(t,e,r){"use strict";var n=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"level spinner__wrapper"},[e("div",{staticClass:"level-item has-text-centered"},[this.show?e("svg",{staticClass:"spinner",attrs:{width:"30px",height:"30px",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg"}},[e("circle",{staticClass:"path",attrs:{fill:"none","stroke-width":"6","stroke-linecap":"round",cx:"33",cy:"33",r:"30"}})]):this._e()])])};n._withStripped=!0;var i={props:{show:{type:Boolean,default:!1}}},o=(r(140),r(1)),s=Object(o.a)(i,n,[],!1,null,"39432f99",null);s.options.__file="src/components/Spinner.vue";e.a=s.exports},182:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this.$createElement,e=this._self._c||t;return e("section",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:this.loadMore,expression:"loadMore"}],staticClass:"section",attrs:{"infinite-scroll-disabled":!this.loaded}},[e("div",{staticClass:"container"},[e("video-list",{attrs:{videos:this.videos}}),e("spinner",{attrs:{show:!this.loaded}})],1)])};n._withStripped=!0;var i=r(21),o=r(134),s=r(142),a={components:{VideoList:o.a,Spinner:s.a},data:function(){return{videos:[],limit:20,loaded:!1,nextPage:null}},created:function(){this.loaded=!1,this.videos=[],this.nextPage=null,this.loadVideos()},watch:{$route:function(){this.loaded=!1,this.videos=[],this.nextPage=null,this.loadVideos()}},methods:{loadVideos:function(){var t=this;this.loaded=!1;var e={order:this.$route.meta.order,maxResults:this.limit,channelId:this.$route.params.id,pageToken:this.nextPage};i.a.fetchVideos(e).then(function(e){t.loaded=!0,t.$Progress.finish(),e.videos.length?(t.nextPage=e.nextPageToken,e.videos.forEach(function(e){t.videos.push(e)})):t.nextPage=null}).catch(function(){t.loaded=!0,t.$Progress.fail()})},loadMore:function(){this.nextPage&&this.loadVideos()}}},l=r(1),u=Object(l.a)(a,n,[],!1,null,null,null);u.options.__file="src/pages/channels/videos.vue";e.default=u.exports}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9TcGlubmVyLnZ1ZT82YTRjIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2guY2h1bmsvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RheWpzL3BsdWdpbi9yZWxhdGl2ZVRpbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3lvdXR1YmUtZHVyYXRpb24tZm9ybWF0L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1NwaW5uZXIudnVlPzJmOWIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvU3Bpbm5lci52dWU/ODVjMCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9TcGlubmVyLnZ1ZT8wY2Q1Iiwid2VicGFjazovLy9zcmMvY29tcG9uZW50cy9TcGlubmVyLnZ1ZSIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9TcGlubmVyLnZ1ZT8wM2UyIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1NwaW5uZXIudnVlIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9jaGFubmVscy92aWRlb3MudnVlPzRiNzUiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL2NoYW5uZWxzL3ZpZGVvcy52dWU/MjY2YyIsIndlYnBhY2s6Ly8vc3JjL3BhZ2VzL2NoYW5uZWxzL3ZpZGVvcy52dWUiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL2NoYW5uZWxzL3ZpZGVvcy52dWUiXSwibmFtZXMiOlsiY29udGVudCIsIm1vZHVsZSIsImkiLCJsb2NhbHMiLCJleHBvcnRzIiwiSU5GSU5JVFkiLCJNQVhfU0FGRV9JTlRFR0VSIiwiTUFYX0lOVEVHRVIiLCJOQU4iLCJmdW5jVGFnIiwiZ2VuVGFnIiwic3ltYm9sVGFnIiwicmVUcmltIiwicmVJc0JhZEhleCIsInJlSXNCaW5hcnkiLCJyZUlzT2N0YWwiLCJyZUlzVWludCIsImZyZWVQYXJzZUludCIsInBhcnNlSW50Iiwib2JqZWN0VG9TdHJpbmciLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsIm5hdGl2ZUNlaWwiLCJNYXRoIiwiY2VpbCIsIm5hdGl2ZU1heCIsIm1heCIsImJhc2VTbGljZSIsImFycmF5Iiwic3RhcnQiLCJlbmQiLCJpbmRleCIsImxlbmd0aCIsInJlc3VsdCIsIkFycmF5IiwiaXNJdGVyYXRlZUNhbGwiLCJ2YWx1ZSIsIm9iamVjdCIsImlzT2JqZWN0IiwidHlwZSIsImlzTGVuZ3RoIiwidGFnIiwiY2FsbCIsImlzRnVuY3Rpb24iLCJpc0FycmF5TGlrZSIsInRlc3QiLCJpc0luZGV4Iiwib3RoZXIiLCJlcSIsInNpemUiLCJndWFyZCIsInVuZGVmaW5lZCIsImlzT2JqZWN0TGlrZSIsImlzU3ltYm9sIiwidmFsdWVPZiIsInJlcGxhY2UiLCJpc0JpbmFyeSIsInNsaWNlIiwidG9OdW1iZXIiLCJ0b0Zpbml0ZSIsInJlbWFpbmRlciIsInRvSW50ZWdlciIsInJlc0luZGV4IiwiZSIsInIiLCJ0IiwibiIsImVuIiwicmVsYXRpdmVUaW1lIiwiZnV0dXJlIiwicGFzdCIsInMiLCJtIiwibW0iLCJoIiwiaGgiLCJkIiwiZGQiLCJNIiwiTU0iLCJ5IiwieXkiLCJvIiwiYSIsIiRsb2NhbGUiLCJ1IiwibCIsImYiLCJkaWZmIiwicm91bmQiLCJhYnMiLCJ0byIsInRoaXMiLCJmcm9tIiwidG9Ob3ciLCJmcm9tTm93IiwiUFQiLCJmb3JtYXQiLCJvdXRwdXQiLCJkdXJhdGlvbkluU2VjIiwibWF0Y2hlcyIsIm1hdGNoIiwicGFydHMiLCJwb3MiLCJtdWx0aXBsaWVyIiwidG90YWxTZWMiLCJwdXNoIiwiam9pbiIsInJlbmRlciIsIl9oIiwiJGNyZWF0ZUVsZW1lbnQiLCJfYyIsIl9zZWxmIiwic3RhdGljQ2xhc3MiLCJzaG93IiwiYXR0cnMiLCJ3aWR0aCIsImhlaWdodCIsInZpZXdCb3giLCJ4bWxucyIsImZpbGwiLCJjeCIsImN5IiwiX2UiLCJfd2l0aFN0cmlwcGVkIiwicHJvcHMiLCJCb29sZWFuIiwiZGVmYXVsdCIsImNvbXBvbmVudCIsIm9wdGlvbnMiLCJfX2ZpbGUiLCJkaXJlY3RpdmVzIiwibmFtZSIsInJhd05hbWUiLCJsb2FkTW9yZSIsImV4cHJlc3Npb24iLCJsb2FkZWQiLCJ2aWRlb3MiLCJjb21wb25lbnRzIiwiVmlkZW9MaXN0IiwiU3Bpbm5lciIsImRhdGEiLCJsaW1pdCIsIm5leHRQYWdlIiwiY3JlYXRlZCIsImxvYWRWaWRlb3MiLCJ3YXRjaCIsIiRyb3V0ZSIsIm1ldGhvZHMiLCJvcmRlciIsIm1ldGEiLCJtYXhSZXN1bHRzIiwiY2hhbm5lbElkIiwicGFyYW1zIiwiaWQiLCJwYWdlVG9rZW4iLCJzdG9yZSIsImZvckVhY2giXSwibWFwcGluZ3MiOiI2RUFHQSxJQUFJQSxFQUFVLEVBQVEsS0FDQSxpQkFBWkEsSUFBc0JBLEVBQVUsQ0FBQyxDQUFDQyxFQUFPQyxFQUFJRixFQUFTLE1BRW5ELEVBQVEsRUFBUixDQUF5REEsRUFBUyxJQUM1RUEsRUFBUUcsU0FBUUYsRUFBT0csUUFBVUosRUFBUUcsUyxrQkNHNUMsSUFBSUUsRUFBVyxJQUNYQyxFQUFtQixpQkFDbkJDLEVBQWMsc0JBQ2RDLEVBQU0sSUFHTkMsRUFBVSxvQkFDVkMsRUFBUyw2QkFDVEMsRUFBWSxrQkFHWkMsRUFBUyxhQUdUQyxFQUFhLHFCQUdiQyxFQUFhLGFBR2JDLEVBQVksY0FHWkMsRUFBVyxtQkFHWEMsRUFBZUMsU0FVZkMsRUFQY0MsT0FBT0MsVUFPUUMsU0FHN0JDLEVBQWFDLEtBQUtDLEtBQ2xCQyxFQUFZRixLQUFLRyxJQVdyQixTQUFTQyxFQUFVQyxFQUFPQyxFQUFPQyxHQUMvQixJQUFJQyxHQUFTLEVBQ1RDLEVBQVNKLEVBQU1JLE9BRWZILEVBQVEsSUFDVkEsR0FBU0EsRUFBUUcsRUFBUyxFQUFLQSxFQUFTSCxJQUUxQ0MsRUFBTUEsRUFBTUUsRUFBU0EsRUFBU0YsR0FDcEIsSUFDUkEsR0FBT0UsR0FFVEEsRUFBU0gsRUFBUUMsRUFBTSxFQUFNQSxFQUFNRCxJ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R0FDUWEsTUFBT3pELEtBQUt1RCxPQUFPRyxLQUFLRCxNQUN4QkUsV0FBWTNELEtBQUtrRCxNQUNqQlUsVUFBVzVELEtBQUt1RCxPQUFPTSxPQUFPQyxHQUM5QkMsVUFBVy9ELEtBQUttRCxVQUdsQmEsRUFBTixrQ0FDUSxFQUFSLFVBQ1EsRUFBUixtQkFDQSxpQkFJUSxFQUFSLHlCQUNRM0gsRUFBT3dHLE9BQU9vQixRQUFRLFNBQTlCLEdBQ1UsRUFBVixrQkFMVSxFQUFWLGdCQUpBLE1BV0EsV0FDUSxFQUFSLFVBQ1EsRUFBUixvQkFHSXZCLFNBM0JKLFdBNEJBLGVBQ00xQyxLQUFLcUQsZ0IsT0M3RFBqQixFQUFZLFlBQ2QsRUFDQXBCLEVIc0JvQixJR3BCcEIsRUFDQSxLQUNBLEtBQ0EsTUF1QkZvQixFQUFVQyxRQUFRQyxPQUFTLGdDQUNaLFVBQUFGLEUiLCJmaWxlIjoiMy5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1NwaW5uZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9Mzk0MzJmOTkmbGFuZz1zY3NzJnNjb3BlZD10cnVlJlwiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vU3Bpbm5lci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD0zOTQzMmY5OSZsYW5nPXNjc3Mmc2NvcGVkPXRydWUmXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vU3Bpbm5lci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD0zOTQzMmY5OSZsYW5nPXNjc3Mmc2NvcGVkPXRydWUmXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCIvKipcbiAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgSU5GSU5JVFkgPSAxIC8gMCxcbiAgICBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MSxcbiAgICBNQVhfSU5URUdFUiA9IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4LFxuICAgIE5BTiA9IDAgLyAwO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbnZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG52YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUNlaWwgPSBNYXRoLmNlaWwsXG4gICAgbmF0aXZlTWF4ID0gTWF0aC5tYXg7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2xpY2VgIHdpdGhvdXQgYW4gaXRlcmF0ZWUgY2FsbCBndWFyZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgfVxuICBlbmQgPSBlbmQgPiBsZW5ndGggPyBsZW5ndGggOiBlbmQ7XG4gIGlmIChlbmQgPCAwKSB7XG4gICAgZW5kICs9IGxlbmd0aDtcbiAgfVxuICBsZW5ndGggPSBzdGFydCA+IGVuZCA/IDAgOiAoKGVuZCAtIHN0YXJ0KSA+Pj4gMCk7XG4gIHN0YXJ0ID4+Pj0gMDtcblxuICB2YXIgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICByZXN1bHRbaW5kZXhdID0gYXJyYXlbaW5kZXggKyBzdGFydF07XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAodHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8IHJlSXNVaW50LnRlc3QodmFsdWUpKSAmJlxuICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgdmFsdWUgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp9IGluZGV4IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgaW5kZXggb3Iga2V5IGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBvYmplY3QgYXJndW1lbnQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJdGVyYXRlZUNhbGwodmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciB0eXBlID0gdHlwZW9mIGluZGV4O1xuICBpZiAodHlwZSA9PSAnbnVtYmVyJ1xuICAgICAgICA/IChpc0FycmF5TGlrZShvYmplY3QpICYmIGlzSW5kZXgoaW5kZXgsIG9iamVjdC5sZW5ndGgpKVxuICAgICAgICA6ICh0eXBlID09ICdzdHJpbmcnICYmIGluZGV4IGluIG9iamVjdClcbiAgICAgICkge1xuICAgIHJldHVybiBlcShvYmplY3RbaW5kZXhdLCB2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgc3BsaXQgaW50byBncm91cHMgdGhlIGxlbmd0aCBvZiBgc2l6ZWAuXG4gKiBJZiBgYXJyYXlgIGNhbid0IGJlIHNwbGl0IGV2ZW5seSwgdGhlIGZpbmFsIGNodW5rIHdpbGwgYmUgdGhlIHJlbWFpbmluZ1xuICogZWxlbWVudHMuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IEFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcHJvY2Vzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZT0xXSBUaGUgbGVuZ3RoIG9mIGVhY2ggY2h1bmtcbiAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjaHVua3MuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uY2h1bmsoWydhJywgJ2InLCAnYycsICdkJ10sIDIpO1xuICogLy8gPT4gW1snYScsICdiJ10sIFsnYycsICdkJ11dXG4gKlxuICogXy5jaHVuayhbJ2EnLCAnYicsICdjJywgJ2QnXSwgMyk7XG4gKiAvLyA9PiBbWydhJywgJ2InLCAnYyddLCBbJ2QnXV1cbiAqL1xuZnVuY3Rpb24gY2h1bmsoYXJyYXksIHNpemUsIGd1YXJkKSB7XG4gIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgc2l6ZSwgZ3VhcmQpIDogc2l6ZSA9PT0gdW5kZWZpbmVkKSkge1xuICAgIHNpemUgPSAxO1xuICB9IGVsc2Uge1xuICAgIHNpemUgPSBuYXRpdmVNYXgodG9JbnRlZ2VyKHNpemUpLCAwKTtcbiAgfVxuICB2YXIgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuICBpZiAoIWxlbmd0aCB8fCBzaXplIDwgMSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICB2YXIgaW5kZXggPSAwLFxuICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobmF0aXZlQ2VpbChsZW5ndGggLyBzaXplKSk7XG5cbiAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgcmVzdWx0W3Jlc0luZGV4KytdID0gYmFzZVNsaWNlKGFycmF5LCBpbmRleCwgKGluZGV4ICs9IHNpemUpKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFBlcmZvcm1zIGFcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcSgnYScsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcShOYU4sIE5hTik7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAvLyBpbiBTYWZhcmkgOC05IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5IGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBpc09iamVjdCh2YWx1ZSkgPyBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNMZW5ndGgoMyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoJzMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gc3ltYm9sVGFnKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgZmluaXRlIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTIuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgbnVtYmVyLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvRmluaXRlKDMuMik7XG4gKiAvLyA9PiAzLjJcbiAqXG4gKiBfLnRvRmluaXRlKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gNWUtMzI0XG4gKlxuICogXy50b0Zpbml0ZShJbmZpbml0eSk7XG4gKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICpcbiAqIF8udG9GaW5pdGUoJzMuMicpO1xuICogLy8gPT4gMy4yXG4gKi9cbmZ1bmN0aW9uIHRvRmluaXRlKHZhbHVlKSB7XG4gIGlmICghdmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6IDA7XG4gIH1cbiAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gIGlmICh2YWx1ZSA9PT0gSU5GSU5JVFkgfHwgdmFsdWUgPT09IC1JTkZJTklUWSkge1xuICAgIHZhciBzaWduID0gKHZhbHVlIDwgMCA/IC0xIDogMSk7XG4gICAgcmV0dXJuIHNpZ24gKiBNQVhfSU5URUdFUjtcbiAgfVxuICByZXR1cm4gdmFsdWUgPT09IHZhbHVlID8gdmFsdWUgOiAwO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gaW50ZWdlci5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0ludGVnZXJgXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9pbnRlZ2VyKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvSW50ZWdlcigzLjIpO1xuICogLy8gPT4gM1xuICpcbiAqIF8udG9JbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gMFxuICpcbiAqIF8udG9JbnRlZ2VyKEluZmluaXR5KTtcbiAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gKlxuICogXy50b0ludGVnZXIoJzMuMicpO1xuICogLy8gPT4gM1xuICovXG5mdW5jdGlvbiB0b0ludGVnZXIodmFsdWUpIHtcbiAgdmFyIHJlc3VsdCA9IHRvRmluaXRlKHZhbHVlKSxcbiAgICAgIHJlbWFpbmRlciA9IHJlc3VsdCAlIDE7XG5cbiAgcmV0dXJuIHJlc3VsdCA9PT0gcmVzdWx0ID8gKHJlbWFpbmRlciA/IHJlc3VsdCAtIHJlbWFpbmRlciA6IHJlc3VsdCkgOiAwO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9OdW1iZXIoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAqIC8vID0+IEluZmluaXR5XG4gKlxuICogXy50b051bWJlcignMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIE5BTjtcbiAgfVxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICB9XG4gIHZhbHVlID0gdmFsdWUucmVwbGFjZShyZVRyaW0sICcnKTtcbiAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgcmV0dXJuIChpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkpXG4gICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY2h1bms7XG4iLCIhZnVuY3Rpb24oZSxyKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1yKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShyKTplLmRheWpzX3BsdWdpbl9yZWxhdGl2ZVRpbWU9cigpfSh0aGlzLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIGZ1bmN0aW9uKGUscix0KXt2YXIgbj1yLnByb3RvdHlwZTt0LmVuLnJlbGF0aXZlVGltZT17ZnV0dXJlOlwiaW4gJXNcIixwYXN0OlwiJXMgYWdvXCIsczpcImEgZmV3IHNlY29uZHNcIixtOlwiYSBtaW51dGVcIixtbTpcIiVkIG1pbnV0ZXNcIixoOlwiYW4gaG91clwiLGhoOlwiJWQgaG91cnNcIixkOlwiYSBkYXlcIixkZDpcIiVkIGRheXNcIixNOlwiYSBtb250aFwiLE1NOlwiJWQgbW9udGhzXCIseTpcImEgeWVhclwiLHl5OlwiJWQgeWVhcnNcIn07dmFyIG89ZnVuY3Rpb24oZSxyLG4sbyl7Zm9yKHZhciBkLGksYT1uLiRsb2NhbGUoKS5yZWxhdGl2ZVRpbWUsdT1be2w6XCJzXCIscjo0NCxkOlwic2Vjb25kXCJ9LHtsOlwibVwiLHI6ODl9LHtsOlwibW1cIixyOjQ0LGQ6XCJtaW51dGVcIn0se2w6XCJoXCIscjo4OX0se2w6XCJoaFwiLHI6MjEsZDpcImhvdXJcIn0se2w6XCJkXCIscjozNX0se2w6XCJkZFwiLHI6MjUsZDpcImRheVwifSx7bDpcIk1cIixyOjQ1fSx7bDpcIk1NXCIscjoxMCxkOlwibW9udGhcIn0se2w6XCJ5XCIscjoxN30se2w6XCJ5eVwiLGQ6XCJ5ZWFyXCJ9XSxmPXUubGVuZ3RoLHM9MDtzPGY7cys9MSl7dmFyIGw9dVtzXTtsLmQmJihkPW8/dChlKS5kaWZmKG4sbC5kLCEwKTpuLmRpZmYoZSxsLmQsITApKTt2YXIgbT1NYXRoLnJvdW5kKE1hdGguYWJzKGQpKTtpZihtPD1sLnJ8fCFsLnIpezE9PT1tJiZzPjAmJihsPXVbcy0xXSksaT1hW2wubF0ucmVwbGFjZShcIiVkXCIsbSk7YnJlYWt9fXJldHVybiByP2k6KGQ+MD9hLmZ1dHVyZTphLnBhc3QpLnJlcGxhY2UoXCIlc1wiLGkpfTtuLnRvPWZ1bmN0aW9uKGUscil7cmV0dXJuIG8oZSxyLHRoaXMsITApfSxuLmZyb209ZnVuY3Rpb24oZSxyKXtyZXR1cm4gbyhlLHIsdGhpcyl9LG4udG9Ob3c9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudG8odCgpLGUpfSxuLmZyb21Ob3c9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZnJvbSh0KCksZSl9fX0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBwYXJzZUR1cmF0aW9uKFBULCBmb3JtYXQpIHtcbiAgdmFyIG91dHB1dCA9IFtdO1xuICB2YXIgZHVyYXRpb25JblNlYyA9IDA7XG4gIHZhciBtYXRjaGVzID0gUFQubWF0Y2goL1AoPzooXFxkKilZKT8oPzooXFxkKilNKT8oPzooXFxkKilXKT8oPzooXFxkKilEKT9UPyg/OihcXGQqKUgpPyg/OihcXGQqKU0pPyg/OihcXGQqKVMpPy9pKTtcbiAgdmFyIHBhcnRzID0gW1xuICAgIHsgLy8geWVhcnNcbiAgICAgIHBvczogMSxcbiAgICAgIG11bHRpcGxpZXI6IDg2NDAwICogMzY1XG4gICAgfSxcbiAgICB7IC8vIG1vbnRoc1xuICAgICAgcG9zOiAyLFxuICAgICAgbXVsdGlwbGllcjogODY0MDAgKiAzMFxuICAgIH0sXG4gICAgeyAvLyB3ZWVrc1xuICAgICAgcG9zOiAzLFxuICAgICAgbXVsdGlwbGllcjogNjA0ODAwXG4gICAgfSxcbiAgICB7IC8vIGRheXNcbiAgICAgIHBvczogNCxcbiAgICAgIG11bHRpcGxpZXI6IDg2NDAwXG4gICAgfSxcbiAgICB7IC8vIGhvdXJzXG4gICAgICBwb3M6IDUsXG4gICAgICBtdWx0aXBsaWVyOiAzNjAwXG4gICAgfSxcbiAgICB7IC8vIG1pbnV0ZXNcbiAgICAgIHBvczogNixcbiAgICAgIG11bHRpcGxpZXI6IDYwXG4gICAgfSxcbiAgICB7IC8vIHNlY29uZHNcbiAgICAgIHBvczogNyxcbiAgICAgIG11bHRpcGxpZXI6IDFcbiAgICB9XG4gIF07XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIGlmICh0eXBlb2YgbWF0Y2hlc1twYXJ0c1tpXS5wb3NdICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICBkdXJhdGlvbkluU2VjICs9IHBhcnNlSW50KG1hdGNoZXNbcGFydHNbaV0ucG9zXSkgKiBwYXJ0c1tpXS5tdWx0aXBsaWVyO1xuICAgIH1cbiAgfVxuICB2YXIgdG90YWxTZWMgPSBkdXJhdGlvbkluU2VjO1xuICAvLyBIb3VycyBleHRyYWN0aW9uXG4gIGlmIChkdXJhdGlvbkluU2VjID4gMzU5OSkge1xuICAgIG91dHB1dC5wdXNoKHBhcnNlSW50KGR1cmF0aW9uSW5TZWMgLyAzNjAwKSk7XG4gICAgZHVyYXRpb25JblNlYyAlPSAzNjAwO1xuICB9XG4gIC8vIE1pbnV0ZXMgZXh0cmFjdGlvbiB3aXRoIGxlYWRpbmcgemVyb1xuICBvdXRwdXQucHVzaCgoJzAnICsgcGFyc2VJbnQoZHVyYXRpb25JblNlYyAvIDYwKSkuc2xpY2UoLTIpKTtcbiAgLy8gU2Vjb25kcyBleHRyYWN0aW9uIHdpdGggbGVhZGluZyB6ZXJvXG4gIG91dHB1dC5wdXNoKCgnMCcgKyBkdXJhdGlvbkluU2VjICUgNjApLnNsaWNlKC0yKSk7XG4gIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gb3V0cHV0LmpvaW4oJzonKTtcbiAgZWxzZSBpZiAoZm9ybWF0ID09PSAnc2VjJylcbiAgICByZXR1cm4gdG90YWxTZWM7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcnNlRHVyYXRpb247XG4iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1NwaW5uZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9Mzk0MzJmOTkmbGFuZz1zY3NzJnNjb3BlZD10cnVlJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1NwaW5uZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9Mzk0MzJmOTkmbGFuZz1zY3NzJnNjb3BlZD10cnVlJlwiIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuc3Bpbm5lcl9fd3JhcHBlcltkYXRhLXYtMzk0MzJmOTlde21hcmdpbi10b3A6NDBweDtoZWlnaHQ6MzBweH0uc3Bpbm5lcltkYXRhLXYtMzk0MzJmOTlde2FuaW1hdGlvbjpyb3RhdG9yLWRhdGEtdi0zOTQzMmY5OSAxLjRzIGxpbmVhciBpbmZpbml0ZX1Aa2V5ZnJhbWVzIHJvdGF0b3ItZGF0YS12LTM5NDMyZjk5ezAle3RyYW5zZm9ybTpyb3RhdGUoMGRlZyl9MTAwJXt0cmFuc2Zvcm06cm90YXRlKDI3MGRlZyl9fS5wYXRoW2RhdGEtdi0zOTQzMmY5OV17c3Ryb2tlLWRhc2hhcnJheToxODc7c3Ryb2tlLWRhc2hvZmZzZXQ6MDt0cmFuc2Zvcm0tb3JpZ2luOmNlbnRlcjtzdHJva2U6IzRhOGJmYTthbmltYXRpb246ZGFzaC1kYXRhLXYtMzk0MzJmOTkgMS40cyBlYXNlLWluLW91dCBpbmZpbml0ZX1Aa2V5ZnJhbWVzIGRhc2gtZGF0YS12LTM5NDMyZjk5ezAle3N0cm9rZS1kYXNob2Zmc2V0OjE4N301MCV7c3Ryb2tlLWRhc2hvZmZzZXQ6NDYuNzU7dHJhbnNmb3JtOnJvdGF0ZSgxMzVkZWcpfTEwMCV7c3Ryb2tlLWRhc2hvZmZzZXQ6MTg3O3RyYW5zZm9ybTpyb3RhdGUoNDUwZGVnKX19XFxuXCIsIFwiXCJdKTtcbiIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJsZXZlbCBzcGlubmVyX193cmFwcGVyXCIgfSwgW1xuICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwibGV2ZWwtaXRlbSBoYXMtdGV4dC1jZW50ZXJlZFwiIH0sIFtcbiAgICAgIF92bS5zaG93XG4gICAgICAgID8gX2MoXG4gICAgICAgICAgICBcInN2Z1wiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJzcGlubmVyXCIsXG4gICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMzBweFwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCIzMHB4XCIsXG4gICAgICAgICAgICAgICAgdmlld0JveDogXCIwIDAgNjYgNjZcIixcbiAgICAgICAgICAgICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgIF9jKFwiY2lyY2xlXCIsIHtcbiAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJwYXRoXCIsXG4gICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgXCJzdHJva2Utd2lkdGhcIjogXCI2XCIsXG4gICAgICAgICAgICAgICAgICBcInN0cm9rZS1saW5lY2FwXCI6IFwicm91bmRcIixcbiAgICAgICAgICAgICAgICAgIGN4OiBcIjMzXCIsXG4gICAgICAgICAgICAgICAgICBjeTogXCIzM1wiLFxuICAgICAgICAgICAgICAgICAgcjogXCIzMFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgXVxuICAgICAgICAgIClcbiAgICAgICAgOiBfdm0uX2UoKVxuICAgIF0pXG4gIF0pXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiPHRlbXBsYXRlPlxuPGRpdiBjbGFzcz1cImxldmVsIHNwaW5uZXJfX3dyYXBwZXJcIj5cbiAgPGRpdiBjbGFzcz1cImxldmVsLWl0ZW0gaGFzLXRleHQtY2VudGVyZWRcIj5cbiAgICA8c3ZnIGNsYXNzPVwic3Bpbm5lclwiIHYtaWY9XCJzaG93XCIgd2lkdGg9XCIzMHB4XCIgaGVpZ2h0PVwiMzBweFwiIHZpZXdCb3g9XCIwIDAgNjYgNjZcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XG4gICAgICAgPGNpcmNsZSBjbGFzcz1cInBhdGhcIiBmaWxsPVwibm9uZVwiIHN0cm9rZS13aWR0aD1cIjZcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgY3g9XCIzM1wiIGN5PVwiMzNcIiByPVwiMzBcIj48L2NpcmNsZT5cbiAgICA8L3N2Zz5cbiAgPC9kaXY+XG48L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG5leHBvcnQgZGVmYXVsdCB7XG4gIHByb3BzOiB7XG4gICAgc2hvdzoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfVxuICB9XG59XG48L3NjcmlwdD5cblxuPHN0eWxlIGxhbmc9XCJzY3NzXCIgc2NvcGVkPlxuJG9mZnNldDogMTg3O1xuJGR1cmF0aW9uOiAxLjRzO1xuXG4uc3Bpbm5lcl9fd3JhcHBlciB7XG4gIG1hcmdpbi10b3A6IDQwcHg7XG4gIGhlaWdodDogMzBweDtcbn1cblxuLnNwaW5uZXIge1xuICBhbmltYXRpb246IHJvdGF0b3IgJGR1cmF0aW9uIGxpbmVhciBpbmZpbml0ZTtcbn1cblxuQGtleWZyYW1lcyByb3RhdG9yIHtcbiAgMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfVxuICAxMDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMjcwZGVnKTsgfVxufVxuXG4ucGF0aCB7XG4gIHN0cm9rZS1kYXNoYXJyYXk6ICRvZmZzZXQ7XG4gIHN0cm9rZS1kYXNob2Zmc2V0OiAwO1xuICB0cmFuc2Zvcm0tb3JpZ2luOiBjZW50ZXI7XG4gIHN0cm9rZTogIzRhOGJmYTtcbiAgYW5pbWF0aW9uOlxuICAgIGRhc2ggJGR1cmF0aW9uIGVhc2UtaW4tb3V0IGluZmluaXRlO1xufVxuXG5Aa2V5ZnJhbWVzIGRhc2gge1xuIDAlIHsgc3Ryb2tlLWRhc2hvZmZzZXQ6ICRvZmZzZXQ7IH1cbiA1MCUge1xuICAgc3Ryb2tlLWRhc2hvZmZzZXQ6ICRvZmZzZXQvNDtcbiAgIHRyYW5zZm9ybTpyb3RhdGUoMTM1ZGVnKTtcbiB9XG4gMTAwJSB7XG4gICBzdHJva2UtZGFzaG9mZnNldDogJG9mZnNldDtcbiAgIHRyYW5zZm9ybTpyb3RhdGUoNDUwZGVnKTtcbiB9XG59XG48L3N0eWxlPiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9TcGlubmVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1NwaW5uZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9TcGlubmVyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0zOTQzMmY5OSZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9TcGlubmVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vU3Bpbm5lci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vU3Bpbm5lci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD0zOTQzMmY5OSZsYW5nPXNjc3Mmc2NvcGVkPXRydWUmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjM5NDMyZjk5XCIsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL1VzZXJzL0FyaGV5L0NvZGUvd2ViLWxlYXJuL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzM5NDMyZjk5JykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzM5NDMyZjk5JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzM5NDMyZjk5JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9TcGlubmVyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0zOTQzMmY5OSZzY29wZWQ9dHJ1ZSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCczOTQzMmY5OScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2NvbXBvbmVudHMvU3Bpbm5lci52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwic2VjdGlvblwiLFxuICAgIHtcbiAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6IFwiaW5maW5pdGUtc2Nyb2xsXCIsXG4gICAgICAgICAgcmF3TmFtZTogXCJ2LWluZmluaXRlLXNjcm9sbFwiLFxuICAgICAgICAgIHZhbHVlOiBfdm0ubG9hZE1vcmUsXG4gICAgICAgICAgZXhwcmVzc2lvbjogXCJsb2FkTW9yZVwiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBzdGF0aWNDbGFzczogXCJzZWN0aW9uXCIsXG4gICAgICBhdHRyczogeyBcImluZmluaXRlLXNjcm9sbC1kaXNhYmxlZFwiOiAhX3ZtLmxvYWRlZCB9XG4gICAgfSxcbiAgICBbXG4gICAgICBfYyhcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAgeyBzdGF0aWNDbGFzczogXCJjb250YWluZXJcIiB9LFxuICAgICAgICBbXG4gICAgICAgICAgX2MoXCJ2aWRlby1saXN0XCIsIHsgYXR0cnM6IHsgdmlkZW9zOiBfdm0udmlkZW9zIH0gfSksXG4gICAgICAgICAgX2MoXCJzcGlubmVyXCIsIHsgYXR0cnM6IHsgc2hvdzogIV92bS5sb2FkZWQgfSB9KVxuICAgICAgICBdLFxuICAgICAgICAxXG4gICAgICApXG4gICAgXVxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3ZpZGVvcy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi92aWRlb3MudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiIiwiPHRlbXBsYXRlIGxhbmc9XCJwdWdcIj5cbnNlY3Rpb24uc2VjdGlvbih2LWluZmluaXRlLXNjcm9sbD1cImxvYWRNb3JlXCIsOmluZmluaXRlLXNjcm9sbC1kaXNhYmxlZD1cIiFsb2FkZWRcIilcbiAgLmNvbnRhaW5lclxuICAgIHZpZGVvLWxpc3QoOnZpZGVvcz1cInZpZGVvc1wiKVxuICAgIHNwaW5uZXIoOnNob3c9XCIhbG9hZGVkXCIpXG48L3RlbXBsYXRlPlxuXG48c2NyaXB0PlxuaW1wb3J0IHN0b3JlIGZyb20gJ35zdG9yZSdcbmltcG9ydCBWaWRlb0xpc3QgZnJvbSAnfmNvbXBvbmVudHMvVmlkZW9MaXN0LnZ1ZSdcbmltcG9ydCBTcGlubmVyIGZyb20gJ35jb21wb25lbnRzL1NwaW5uZXIudnVlJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNvbXBvbmVudHM6IHtcbiAgICBWaWRlb0xpc3QsXG4gICAgU3Bpbm5lclxuICB9LFxuICBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICB2aWRlb3M6IFtdLFxuICAgICAgbGltaXQ6IDIwLFxuICAgICAgbG9hZGVkOiBmYWxzZSxcbiAgICAgIG5leHRQYWdlOiBudWxsXG4gICAgfVxuICB9LFxuICBjcmVhdGVkKCkge1xuICAgIHRoaXMubG9hZGVkID0gZmFsc2VcbiAgICB0aGlzLnZpZGVvcyA9IFtdXG4gICAgdGhpcy5uZXh0UGFnZSA9IG51bGxcbiAgICB0aGlzLmxvYWRWaWRlb3MoKVxuICB9LFxuICB3YXRjaDoge1xuICAgICRyb3V0ZSgpIHtcbiAgICAgIHRoaXMubG9hZGVkID0gZmFsc2VcbiAgICAgIHRoaXMudmlkZW9zID0gW11cbiAgICAgIHRoaXMubmV4dFBhZ2UgPSBudWxsXG4gICAgICB0aGlzLmxvYWRWaWRlb3MoKVxuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGxvYWRWaWRlb3MoKSB7XG4gICAgICB0aGlzLmxvYWRlZCA9IGZhbHNlXG5cbiAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgb3JkZXI6IHRoaXMuJHJvdXRlLm1ldGEub3JkZXIsXG4gICAgICAgIG1heFJlc3VsdHM6IHRoaXMubGltaXQsXG4gICAgICAgIGNoYW5uZWxJZDogdGhpcy4kcm91dGUucGFyYW1zLmlkLFxuICAgICAgICBwYWdlVG9rZW46IHRoaXMubmV4dFBhZ2VcbiAgICAgIH1cblxuICAgICAgc3RvcmUuZmV0Y2hWaWRlb3MocGFyYW1zKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZVxuICAgICAgICB0aGlzLiRQcm9ncmVzcy5maW5pc2goKVxuICAgICAgICBpZighcmVzdWx0LnZpZGVvcy5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLm5leHRQYWdlID0gbnVsbFxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIHRoaXMubmV4dFBhZ2UgPSByZXN1bHQubmV4dFBhZ2VUb2tlblxuICAgICAgICByZXN1bHQudmlkZW9zLmZvckVhY2godmlkZW8gPT4ge1xuICAgICAgICAgIHRoaXMudmlkZW9zLnB1c2godmlkZW8pXG4gICAgICAgIH0pXG4gICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZVxuICAgICAgICB0aGlzLiRQcm9ncmVzcy5mYWlsKClcbiAgICAgIH0pXG4gICAgfSxcbiAgICBsb2FkTW9yZSgpIHtcbiAgICAgIGlmKCF0aGlzLm5leHRQYWdlKSB7IHJldHVybiB9XG4gICAgICB0aGlzLmxvYWRWaWRlb3MoKVxuICAgIH1cbiAgfVxufVxuPC9zY3JpcHQ+IiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi92aWRlb3MudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTM0ZTI5YTIzJmxhbmc9cHVnJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL3ZpZGVvcy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL3ZpZGVvcy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9Vc2Vycy9BcmhleS9Db2RlL3dlYi1sZWFybi9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCczNGUyOWEyMycpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCczNGUyOWEyMycsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCczNGUyOWEyMycsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vdmlkZW9zLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0zNGUyOWEyMyZsYW5nPXB1ZyZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCczNGUyOWEyMycsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL3BhZ2VzL2NoYW5uZWxzL3ZpZGVvcy52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9