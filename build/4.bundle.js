(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{134:function(t,e){var r=1/0,i=9007199254740991,n=17976931348623157e292,o=NaN,a="[object Function]",s="[object GeneratorFunction]",u="[object Symbol]",l=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,f=/^0o[0-7]+$/i,p=/^(?:0|[1-9]\d*)$/,v=parseInt,h=Object.prototype.toString,m=Math.ceil,y=Math.max;function g(t,e,r){var i=-1,n=t.length;e<0&&(e=-e>n?0:n+e),(r=r>n?n:r)<0&&(r+=n),n=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(n);++i<n;)o[i]=t[i+e];return o}function b(t,e,r){if(!$(r))return!1;var n=typeof e;return!!("number"==n?function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}(t.length)&&!function(t){var e=$(t)?h.call(t):"";return e==a||e==s}(t)}(r)&&function(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||p.test(t))&&t>-1&&t%1==0&&t<e}(e,r.length):"string"==n&&e in r)&&function(t,e){return t===e||t!=t&&e!=e}(r[e],t)}function $(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=function(t,e,i){e=(i?b(t,e,i):void 0===e)?1:y(function(t){var e=function(t){if(!t)return 0===t?t:0;if((t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&h.call(t)==u}(t))return o;if($(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=$(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var r=d.test(t);return r||f.test(t)?v(t.slice(2),r?2:8):c.test(t)?o:+t}(t))===r||t===-r){return(t<0?-1:1)*n}return t==t?t:0}(t),i=e%1;return e==e?i?e-i:e:0}(e),0);var a=t?t.length:0;if(!a||e<1)return[];for(var s=0,p=0,w=Array(m(a/e));s<a;)w[p++]=g(t,s,s+=e);return w}},136:function(t,e,r){"use strict";var i=r(138),n=r.n(i),o=[{title:"All Time",value:""},{title:"Today",value:n()().subtract(1,"days").toISOString()},{title:"This Week",value:n()().subtract(7,"days").toISOString()},{title:"This Month",value:n()().subtract(30,"days").toISOString()},{title:"This Year",value:n()().subtract(365,"days").toISOString()}];e.a={order:[{title:"By views",value:"viewCount",field:"viewCount"},{title:"By rating",value:"rating",field:"rating"},{title:"By date",value:"date",field:"publishedAt"},{title:"By relevance",value:"relevance",field:"viewCount"}],language:[{title:"Czech",value:"cs"},{title:"English",value:"en"},{title:"French",value:"fr"},{title:"Hebrew",value:"he"},{title:"Polish",value:"pl"},{title:"Portuguese",value:"pt"},{title:"Russian",value:"ru"}],timeframe:o}},137:function(t,e,r){"use strict";var i=r(22),n=r.n(i);e.a={prepareQuery:function(t){var e="";t.constructor===Array?e=(e=n()(t,"title").join("|")).replace(/\./g,""):t.constructor===Object&&(e=t.title);return"$1".replace(/\$1/,e)}}},139:function(t,e,r){t.exports=function(){"use strict";return function(t,e,r){var i=e.prototype;r.en.relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};var n=function(t,e,i,n){for(var o,a,s=i.$locale().relativeTime,u=[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],l=u.length,c=0;c<l;c+=1){var d=u[c];d.d&&(o=n?r(t).diff(i,d.d,!0):i.diff(t,d.d,!0));var f=Math.round(Math.abs(o));if(f<=d.r||!d.r){1===f&&c>0&&(d=u[c-1]),a=s[d.l].replace("%d",f);break}}return e?a:(o>0?s.future:s.past).replace("%s",a)};i.to=function(t,e){return n(t,e,this,!0)},i.from=function(t,e){return n(t,e,this)},i.toNow=function(t){return this.to(r(),t)},i.fromNow=function(t){return this.from(r(),t)}}}()},140:function(t,e,r){"use strict";t.exports=function(t,e){for(var r=[],i=0,n=t.match(/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)W)?(?:(\d*)D)?T?(?:(\d*)H)?(?:(\d*)M)?(?:(\d*)S)?/i),o=[{pos:1,multiplier:31536e3},{pos:2,multiplier:2592e3},{pos:3,multiplier:604800},{pos:4,multiplier:86400},{pos:5,multiplier:3600},{pos:6,multiplier:60},{pos:7,multiplier:1}],a=0;a<o.length;a++)void 0!==n[o[a].pos]&&(i+=parseInt(n[o[a].pos])*o[a].multiplier);var s=i;return i>3599&&(r.push(parseInt(i/3600)),i%=3600),r.push(("0"+parseInt(i/60)).slice(-2)),r.push(("0"+i%60).slice(-2)),void 0===e?r.join(":"):"sec"===e?s:void 0}},147:function(t,e,r){var i=r(161);"string"==typeof i&&(i=[[t.i,i,""]]);r(6)(i,{});i.locals&&(t.exports=i.locals)},160:function(t,e,r){"use strict";var i=r(147);r.n(i).a},161:function(t,e,r){(t.exports=r(5)(!1)).push([t.i,"main[data-v-35e1361f]{min-height:100vh;margin-top:110px}\n",""])},178:function(t,e,r){"use strict";r.r(e);var i=r(0),n=r(21),o=r(137),a=r(136),s=r(135),u={components:{VideoList:s.a},data:function(){return{videos:[],limit:12,loaded:!1}},created:function(){this.loadVideos()},methods:{loadVideos:function(){var t=this;this.loaded=!1,n.a.fetchTopics().then(function(e){var r={q:o.a.prepareQuery(e),videoCategoryId:27,order:a.a.order[3].value,maxResults:t.limit,publishedAfter:a.a.timeframe[3].value};n.a.fetchVideos(r).then(function(e){t.videos=e.videos,t.$Progress.finish(),t.loaded=!0}).catch(function(){t.$Progress.fail()})}).catch(function(){t.$Progress.fail()})}}},l=r(1),c=Object(l.a)(u,function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"section"},[e("div",{staticClass:"container"},[this._m(0),e("video-list",{attrs:{videos:this.videos}})],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{staticClass:"title is-5"},[e("strong",[this._v("Recommended")])])}],!1,null,null,null).exports,d={components:{VideoList:s.a},data:function(){return{videos:[],limit:16,loaded:!1}},created:function(){this.loadVideos()},methods:{loadVideos:function(){var t=this;this.loaded=!1,n.a.fetchTopics().then(function(e){var r={q:o.a.prepareQuery(e),videoCategoryId:27,order:a.a.order[0].value,maxResults:t.limit,publishedAfter:a.a.timeframe[2].value};n.a.fetchVideos(r).then(function(e){t.videos=e.videos,t.$Progress.finish(),t.loaded=!0}).catch(function(){t.$Progress.fail()})}).catch(function(){t.$Progress.fail()})}}},f={components:{"recommended-videos":c,"popular-videos":Object(l.a)(d,function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"section"},[e("div",{staticClass:"container"},[this._m(0),e("video-list",{attrs:{videos:this.videos}})],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{staticClass:"title is-5"},[e("strong",[this._v("Trending")])])}],!1,null,null,null).exports},head:{title:function(){return{inner:i.a.app.name,separator:" "}},meta:function(){return[{id:"description",name:"description",content:i.a.app.description}]}},created:function(){this.$Progress.start()}},p=(r(160),Object(l.a)(f,function(){var t=this.$createElement,e=this._self._c||t;return e("main",[e("recommended-videos",{tag:"component"}),e("hr"),e("popular-videos",{tag:"component"})],1)},[],!1,null,"35e1361f",null));e.default=p.exports}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoLmNodW5rL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9hcGkvZmlsdGVycy9vcmRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBpL2ZpbHRlcnMvdGltZWZyYW1lLmpzIiwid2VicGFjazovLy8uL3NyYy9hcGkvZmlsdGVycy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBpL2ZpbHRlcnMvbGFuZ3VhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RheWpzL3BsdWdpbi9yZWxhdGl2ZVRpbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3lvdXR1YmUtZHVyYXRpb24tZm9ybWF0L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9pbmRleC52dWU/ZjYwYSIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvaW5kZXgudnVlPzE2NGUiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL2luZGV4LnZ1ZT9kNDdjIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9pbmRleC52dWU/YTkxZSIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvdmlkZW9zL3JlY29tbWVuZGVkLnZ1ZT8zZWE5Iiwid2VicGFjazovLy9zcmMvcGFnZXMvdmlkZW9zL3JlY29tbWVuZGVkLnZ1ZSIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvdmlkZW9zL3JlY29tbWVuZGVkLnZ1ZSIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvdmlkZW9zL3JlY29tbWVuZGVkLnZ1ZT9lMTkwIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy92aWRlb3MvcG9wdWxhci52dWU/MjMzNyIsIndlYnBhY2s6Ly8vc3JjL3BhZ2VzL3ZpZGVvcy9wb3B1bGFyLnZ1ZSIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvaW5kZXgudnVlPzEyODQiLCJ3ZWJwYWNrOi8vL3NyYy9wYWdlcy9pbmRleC52dWUiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL3ZpZGVvcy9wb3B1bGFyLnZ1ZSIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvdmlkZW9zL3BvcHVsYXIudnVlPzNkMGYiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL2luZGV4LnZ1ZSJdLCJuYW1lcyI6WyJJTkZJTklUWSIsIk1BWF9TQUZFX0lOVEVHRVIiLCJNQVhfSU5URUdFUiIsIk5BTiIsImZ1bmNUYWciLCJnZW5UYWciLCJzeW1ib2xUYWciLCJyZVRyaW0iLCJyZUlzQmFkSGV4IiwicmVJc0JpbmFyeSIsInJlSXNPY3RhbCIsInJlSXNVaW50IiwiZnJlZVBhcnNlSW50IiwicGFyc2VJbnQiLCJvYmplY3RUb1N0cmluZyIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwibmF0aXZlQ2VpbCIsIk1hdGgiLCJjZWlsIiwibmF0aXZlTWF4IiwibWF4IiwiYmFzZVNsaWNlIiwiYXJyYXkiLCJzdGFydCIsImVuZCIsImluZGV4IiwibGVuZ3RoIiwicmVzdWx0IiwiQXJyYXkiLCJpc0l0ZXJhdGVlQ2FsbCIsInZhbHVlIiwib2JqZWN0IiwiaXNPYmplY3QiLCJ0eXBlIiwiaXNMZW5ndGgiLCJ0YWciLCJjYWxsIiwiaXNGdW5jdGlvbiIsImlzQXJyYXlMaWtlIiwidGVzdCIsImlzSW5kZXgiLCJvdGhlciIsImVxIiwibW9kdWxlIiwiZXhwb3J0cyIsInNpemUiLCJndWFyZCIsInVuZGVmaW5lZCIsImlzT2JqZWN0TGlrZSIsImlzU3ltYm9sIiwidmFsdWVPZiIsInJlcGxhY2UiLCJpc0JpbmFyeSIsInNsaWNlIiwidG9OdW1iZXIiLCJ0b0Zpbml0ZSIsInJlbWFpbmRlciIsInRvSW50ZWdlciIsInJlc0luZGV4IiwidGl0bGUiLCJkYXlqcyIsInN1YnRyYWN0IiwidG9JU09TdHJpbmciLCJvcmRlciIsImZpZWxkIiwibGFuZ3VhZ2UiLCJ0aW1lZnJhbWUiLCJwcmVwYXJlUXVlcnkiLCJ0b3BpY3MiLCJxdWVyeSIsImNvbnN0cnVjdG9yIiwibWFwIiwiam9pbiIsImUiLCJyIiwidCIsIm4iLCJlbiIsInJlbGF0aXZlVGltZSIsImZ1dHVyZSIsInBhc3QiLCJzIiwibSIsIm1tIiwiaCIsImhoIiwiZCIsImRkIiwiTSIsIk1NIiwieSIsInl5IiwibyIsImkiLCJhIiwiJGxvY2FsZSIsInUiLCJsIiwiZiIsImRpZmYiLCJyb3VuZCIsImFicyIsInRvIiwidGhpcyIsImZyb20iLCJ0b05vdyIsImZyb21Ob3ciLCJQVCIsImZvcm1hdCIsIm91dHB1dCIsImR1cmF0aW9uSW5TZWMiLCJtYXRjaGVzIiwibWF0Y2giLCJwYXJ0cyIsInBvcyIsIm11bHRpcGxpZXIiLCJ0b3RhbFNlYyIsInB1c2giLCJjb250ZW50IiwibG9jYWxzIiwiY29tcG9uZW50cyIsIlZpZGVvTGlzdCIsImRhdGEiLCJ2aWRlb3MiLCJsaW1pdCIsImxvYWRlZCIsImNyZWF0ZWQiLCJsb2FkVmlkZW9zIiwibWV0aG9kcyIsInN0b3JlIiwicSIsInV0aWwiLCJ2aWRlb0NhdGVnb3J5SWQiLCJmaWx0ZXJzIiwibWF4UmVzdWx0cyIsInB1Ymxpc2hlZEFmdGVyIiwiX2giLCIkY3JlYXRlRWxlbWVudCIsIl9jIiwiX3NlbGYiLCJzdGF0aWNDbGFzcyIsIl9tIiwiYXR0cnMiLCJfdiIsInJlY29tbWVuZGVkIiwiaGVhZCIsImlubmVyIiwic2VwYXJhdG9yIiwibWV0YSIsIiRQcm9ncmVzcyJdLCJtYXBwaW5ncyI6IjJFQVVBLElBQUlBLEVBQVcsSUFDWEMsRUFBbUIsaUJBQ25CQyxFQUFjLHNCQUNkQyxFQUFNLElBR05DLEVBQVUsb0JBQ1ZDLEVBQVMsNkJBQ1RDLEVBQVksa0JBR1pDLEVBQVMsYUFHVEMsRUFBYSxxQkFHYkMsRUFBYSxhQUdiQyxFQUFZLGNBR1pDLEVBQVcsbUJBR1hDLEVBQWVDLFNBVWZDLEVBUGNDLE9BQU9DLFVBT1FDLFNBRzdCQyxFQUFhQyxLQUFLQyxLQUNsQkMsRUFBWUYsS0FBS0csSUFXckIsU0FBU0MsRUFBVUMsRUFBT0MsRUFBT0MsR0FDL0Is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QUNBLE9BSWEsWSIsImZpbGUiOiI0LmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwLFxuICAgIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxLFxuICAgIE1BWF9JTlRFR0VSID0gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDgsXG4gICAgTkFOID0gMCAvIDA7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nO1xuXG4vKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlLiAqL1xudmFyIHJlVHJpbSA9IC9eXFxzK3xcXHMrJC9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgYmFkIHNpZ25lZCBoZXhhZGVjaW1hbCBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNCYWRIZXggPSAvXlstK10weFswLTlhLWZdKyQvaTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNCaW5hcnkgPSAvXjBiWzAxXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvY3RhbCBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNPY3RhbCA9IC9eMG9bMC03XSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbnZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbi8qKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB3aXRob3V0IGEgZGVwZW5kZW5jeSBvbiBgcm9vdGAuICovXG52YXIgZnJlZVBhcnNlSW50ID0gcGFyc2VJbnQ7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlQ2VpbCA9IE1hdGguY2VpbCxcbiAgICBuYXRpdmVNYXggPSBNYXRoLm1heDtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zbGljZWAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gIGlmIChzdGFydCA8IDApIHtcbiAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICB9XG4gIGVuZCA9IGVuZCA+IGxlbmd0aCA/IGxlbmd0aCA6IGVuZDtcbiAgaWYgKGVuZCA8IDApIHtcbiAgICBlbmQgKz0gbGVuZ3RoO1xuICB9XG4gIGxlbmd0aCA9IHN0YXJ0ID4gZW5kID8gMCA6ICgoZW5kIC0gc3RhcnQpID4+PiAwKTtcbiAgc3RhcnQgPj4+PSAwO1xuXG4gIHZhciByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHJlc3VsdFtpbmRleF0gPSBhcnJheVtpbmRleCArIHN0YXJ0XTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG4gIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHwgcmVJc1VpbnQudGVzdCh2YWx1ZSkpICYmXG4gICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIG9iamVjdCBhcmd1bWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG4gIGlmICh0eXBlID09ICdudW1iZXInXG4gICAgICAgID8gKGlzQXJyYXlMaWtlKG9iamVjdCkgJiYgaXNJbmRleChpbmRleCwgb2JqZWN0Lmxlbmd0aCkpXG4gICAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KVxuICAgICAgKSB7XG4gICAgcmV0dXJuIGVxKG9iamVjdFtpbmRleF0sIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBzcGxpdCBpbnRvIGdyb3VwcyB0aGUgbGVuZ3RoIG9mIGBzaXplYC5cbiAqIElmIGBhcnJheWAgY2FuJ3QgYmUgc3BsaXQgZXZlbmx5LCB0aGUgZmluYWwgY2h1bmsgd2lsbCBiZSB0aGUgcmVtYWluaW5nXG4gKiBlbGVtZW50cy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgQXJyYXlcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBwcm9jZXNzLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPTFdIFRoZSBsZW5ndGggb2YgZWFjaCBjaHVua1xuICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNodW5rcy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5jaHVuayhbJ2EnLCAnYicsICdjJywgJ2QnXSwgMik7XG4gKiAvLyA9PiBbWydhJywgJ2InXSwgWydjJywgJ2QnXV1cbiAqXG4gKiBfLmNodW5rKFsnYScsICdiJywgJ2MnLCAnZCddLCAzKTtcbiAqIC8vID0+IFtbJ2EnLCAnYicsICdjJ10sIFsnZCddXVxuICovXG5mdW5jdGlvbiBjaHVuayhhcnJheSwgc2l6ZSwgZ3VhcmQpIHtcbiAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKGFycmF5LCBzaXplLCBndWFyZCkgOiBzaXplID09PSB1bmRlZmluZWQpKSB7XG4gICAgc2l6ZSA9IDE7XG4gIH0gZWxzZSB7XG4gICAgc2l6ZSA9IG5hdGl2ZU1heCh0b0ludGVnZXIoc2l6ZSksIDApO1xuICB9XG4gIHZhciBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG4gIGlmICghbGVuZ3RoIHx8IHNpemUgPCAxKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIHZhciBpbmRleCA9IDAsXG4gICAgICByZXNJbmRleCA9IDAsXG4gICAgICByZXN1bHQgPSBBcnJheShuYXRpdmVDZWlsKGxlbmd0aCAvIHNpemUpKTtcblxuICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcbiAgICByZXN1bHRbcmVzSW5kZXgrK10gPSBiYXNlU2xpY2UoYXJyYXksIGluZGV4LCAoaW5kZXggKz0gc2l6ZSkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA4LTkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXkgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGlzT2JqZWN0KHZhbHVlKSA/IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0xlbmd0aCgzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aCgnMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBmaW5pdGUgbnVtYmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMi4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9GaW5pdGUoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9GaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvRmluaXRlKEluZmluaXR5KTtcbiAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gKlxuICogXy50b0Zpbml0ZSgnMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9GaW5pdGUodmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogMDtcbiAgfVxuICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgaWYgKHZhbHVlID09PSBJTkZJTklUWSB8fCB2YWx1ZSA9PT0gLUlORklOSVRZKSB7XG4gICAgdmFyIHNpZ24gPSAodmFsdWUgPCAwID8gLTEgOiAxKTtcbiAgICByZXR1cm4gc2lnbiAqIE1BWF9JTlRFR0VSO1xuICB9XG4gIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgPyB2YWx1ZSA6IDA7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gKiBbYFRvSW50ZWdlcmBdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2ludGVnZXIpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9JbnRlZ2VyKDMuMik7XG4gKiAvLyA9PiAzXG4gKlxuICogXy50b0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiAwXG4gKlxuICogXy50b0ludGVnZXIoSW5maW5pdHkpO1xuICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAqXG4gKiBfLnRvSW50ZWdlcignMy4yJyk7XG4gKiAvLyA9PiAzXG4gKi9cbmZ1bmN0aW9uIHRvSW50ZWdlcih2YWx1ZSkge1xuICB2YXIgcmVzdWx0ID0gdG9GaW5pdGUodmFsdWUpLFxuICAgICAgcmVtYWluZGVyID0gcmVzdWx0ICUgMTtcblxuICByZXR1cm4gcmVzdWx0ID09PSByZXN1bHQgPyAocmVtYWluZGVyID8gcmVzdWx0IC0gcmVtYWluZGVyIDogcmVzdWx0KSA6IDA7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b051bWJlcigzLjIpO1xuICogLy8gPT4gMy4yXG4gKlxuICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDVlLTMyNFxuICpcbiAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICogLy8gPT4gSW5maW5pdHlcbiAqXG4gKiBfLnRvTnVtYmVyKCczLjInKTtcbiAqIC8vID0+IDMuMlxuICovXG5mdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gTkFOO1xuICB9XG4gIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gIH1cbiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjaHVuaztcbiIsImV4cG9ydCBkZWZhdWx0IFtcbiAgeyB0aXRsZTogJ0J5IHZpZXdzJywgdmFsdWU6ICd2aWV3Q291bnQnLCBmaWVsZDogJ3ZpZXdDb3VudCcgfSxcbiAgeyB0aXRsZTogJ0J5IHJhdGluZycsIHZhbHVlOiAncmF0aW5nJywgZmllbGQ6ICdyYXRpbmcnIH0sXG4gIHsgdGl0bGU6ICdCeSBkYXRlJywgdmFsdWU6ICdkYXRlJywgZmllbGQ6ICdwdWJsaXNoZWRBdCcgfSxcbiAgeyB0aXRsZTogJ0J5IHJlbGV2YW5jZScsIHZhbHVlOiAncmVsZXZhbmNlJywgZmllbGQ6ICd2aWV3Q291bnQnIH1cbl1cbiIsImltcG9ydCBkYXlqcyBmcm9tICdkYXlqcydcblxuZXhwb3J0IGRlZmF1bHQgW1xuICB7XG4gICAgdGl0bGU6ICdBbGwgVGltZScsXG4gICAgdmFsdWU6ICcnXG4gIH0sXG4gIHtcbiAgICB0aXRsZTogJ1RvZGF5JyxcbiAgICB2YWx1ZTogZGF5anMoKS5zdWJ0cmFjdCgxLCAnZGF5cycpLnRvSVNPU3RyaW5nKClcbiAgfSxcbiAge1xuICAgIHRpdGxlOiAnVGhpcyBXZWVrJyxcbiAgICB2YWx1ZTogZGF5anMoKS5zdWJ0cmFjdCg3LCAnZGF5cycpLnRvSVNPU3RyaW5nKClcbiAgfSxcbiAge1xuICAgIHRpdGxlOiAnVGhpcyBNb250aCcsXG4gICAgdmFsdWU6IGRheWpzKCkuc3VidHJhY3QoMzAsICdkYXlzJykudG9JU09TdHJpbmcoKVxuICB9LFxuICB7XG4gICAgdGl0bGU6ICdUaGlzIFllYXInLFxuICAgIHZhbHVlOiBkYXlqcygpLnN1YnRyYWN0KDM2NSwgJ2RheXMnKS50b0lTT1N0cmluZygpXG4gIH1cbl1cbiIsImltcG9ydCBvcmRlciBmcm9tICcuL29yZGVyJ1xuaW1wb3J0IGxhbmd1YWdlIGZyb20gJy4vbGFuZ3VhZ2UnXG5pbXBvcnQgdGltZWZyYW1lIGZyb20gJy4vdGltZWZyYW1lJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG9yZGVyLFxuICBsYW5ndWFnZSxcbiAgdGltZWZyYW1lXG59XG4iLCJleHBvcnQgZGVmYXVsdCBbXG4gIHtcbiAgICB0aXRsZTogJ0N6ZWNoJyxcbiAgICB2YWx1ZTogJ2NzJ1xuICB9LFxuICB7XG4gICAgdGl0bGU6ICdFbmdsaXNoJyxcbiAgICB2YWx1ZTogJ2VuJ1xuICB9LFxuICB7XG4gICAgdGl0bGU6ICdGcmVuY2gnLFxuICAgIHZhbHVlOiAnZnInXG4gIH0sXG4gIHtcbiAgICB0aXRsZTogJ0hlYnJldycsXG4gICAgdmFsdWU6ICdoZSdcbiAgfSxcbiAge1xuICAgIHRpdGxlOiAnUG9saXNoJyxcbiAgICB2YWx1ZTogJ3BsJ1xuICB9LFxuICB7XG4gICAgdGl0bGU6ICdQb3J0dWd1ZXNlJyxcbiAgICB2YWx1ZTogJ3B0J1xuICB9LFxuICB7XG4gICAgdGl0bGU6ICdSdXNzaWFuJyxcbiAgICB2YWx1ZTogJ3J1J1xuICB9XG5dXG4iLCJpbXBvcnQgbWFwIGZyb20gJ2xvZGFzaC5tYXAnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgcHJlcGFyZVF1ZXJ5KHRvcGljcykge1xuICAgIGxldCBxdWVyeSA9ICcnXG5cbiAgICBpZih0b3BpY3MuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XG4gICAgICAvLyBnZXQgYWxsIHRvcGljIHRpdGxlc1xuICAgICAgY29uc3QgdG9waWNUaXRsZXMgPSBtYXAodG9waWNzLCAndGl0bGUnKVxuICAgICAgLy8gdHJhbnNmb3JtIGFycmF5IG9mIHRvcGljcyB0byBwaXBlIHN0cmluZ1xuICAgICAgcXVlcnkgPSB0b3BpY1RpdGxlcy5qb2luKCd8JylcbiAgICAgIC8vIHJlbW92ZSBhbGwgZG90c1xuICAgICAgcXVlcnkgPSBxdWVyeS5yZXBsYWNlKC9cXC4vZywgJycpXG4gICAgICAvLyByZW1vdmUgYWxsIHNwYWNlc1xuICAgICAgLy8gcXVlcnkgPSBxdWVyeS5yZXBsYWNlKC9cXHMvZywgJycpXG4gICAgfSBlbHNlIGlmKHRvcGljcy5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XG4gICAgICBxdWVyeSA9IHRvcGljcy50aXRsZVxuICAgIH1cblxuICAgIHJldHVybiAnJDEnLnJlcGxhY2UoL1xcJDEvLCBxdWVyeSlcbiAgfVxufVxuIiwiIWZ1bmN0aW9uKGUscil7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9cigpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUocik6ZS5kYXlqc19wbHVnaW5fcmVsYXRpdmVUaW1lPXIoKX0odGhpcyxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3JldHVybiBmdW5jdGlvbihlLHIsdCl7dmFyIG49ci5wcm90b3R5cGU7dC5lbi5yZWxhdGl2ZVRpbWU9e2Z1dHVyZTpcImluICVzXCIscGFzdDpcIiVzIGFnb1wiLHM6XCJhIGZldyBzZWNvbmRzXCIsbTpcImEgbWludXRlXCIsbW06XCIlZCBtaW51dGVzXCIsaDpcImFuIGhvdXJcIixoaDpcIiVkIGhvdXJzXCIsZDpcImEgZGF5XCIsZGQ6XCIlZCBkYXlzXCIsTTpcImEgbW9udGhcIixNTTpcIiVkIG1vbnRoc1wiLHk6XCJhIHllYXJcIix5eTpcIiVkIHllYXJzXCJ9O3ZhciBvPWZ1bmN0aW9uKGUscixuLG8pe2Zvcih2YXIgZCxpLGE9bi4kbG9jYWxlKCkucmVsYXRpdmVUaW1lLHU9W3tsOlwic1wiLHI6NDQsZDpcInNlY29uZFwifSx7bDpcIm1cIixyOjg5fSx7bDpcIm1tXCIscjo0NCxkOlwibWludXRlXCJ9LHtsOlwiaFwiLHI6ODl9LHtsOlwiaGhcIixyOjIxLGQ6XCJob3VyXCJ9LHtsOlwiZFwiLHI6MzV9LHtsOlwiZGRcIixyOjI1LGQ6XCJkYXlcIn0se2w6XCJNXCIscjo0NX0se2w6XCJNTVwiLHI6MTAsZDpcIm1vbnRoXCJ9LHtsOlwieVwiLHI6MTd9LHtsOlwieXlcIixkOlwieWVhclwifV0sZj11Lmxlbmd0aCxzPTA7czxmO3MrPTEpe3ZhciBsPXVbc107bC5kJiYoZD1vP3QoZSkuZGlmZihuLGwuZCwhMCk6bi5kaWZmKGUsbC5kLCEwKSk7dmFyIG09TWF0aC5yb3VuZChNYXRoLmFicyhkKSk7aWYobTw9bC5yfHwhbC5yKXsxPT09bSYmcz4wJiYobD11W3MtMV0pLGk9YVtsLmxdLnJlcGxhY2UoXCIlZFwiLG0pO2JyZWFrfX1yZXR1cm4gcj9pOihkPjA/YS5mdXR1cmU6YS5wYXN0KS5yZXBsYWNlKFwiJXNcIixpKX07bi50bz1mdW5jdGlvbihlLHIpe3JldHVybiBvKGUscix0aGlzLCEwKX0sbi5mcm9tPWZ1bmN0aW9uKGUscil7cmV0dXJuIG8oZSxyLHRoaXMpfSxuLnRvTm93PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRvKHQoKSxlKX0sbi5mcm9tTm93PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmZyb20odCgpLGUpfX19KTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gcGFyc2VEdXJhdGlvbihQVCwgZm9ybWF0KSB7XG4gIHZhciBvdXRwdXQgPSBbXTtcbiAgdmFyIGR1cmF0aW9uSW5TZWMgPSAwO1xuICB2YXIgbWF0Y2hlcyA9IFBULm1hdGNoKC9QKD86KFxcZCopWSk/KD86KFxcZCopTSk/KD86KFxcZCopVyk/KD86KFxcZCopRCk/VD8oPzooXFxkKilIKT8oPzooXFxkKilNKT8oPzooXFxkKilTKT8vaSk7XG4gIHZhciBwYXJ0cyA9IFtcbiAgICB7IC8vIHllYXJzXG4gICAgICBwb3M6IDEsXG4gICAgICBtdWx0aXBsaWVyOiA4NjQwMCAqIDM2NVxuICAgIH0sXG4gICAgeyAvLyBtb250aHNcbiAgICAgIHBvczogMixcbiAgICAgIG11bHRpcGxpZXI6IDg2NDAwICogMzBcbiAgICB9LFxuICAgIHsgLy8gd2Vla3NcbiAgICAgIHBvczogMyxcbiAgICAgIG11bHRpcGxpZXI6IDYwNDgwMFxuICAgIH0sXG4gICAgeyAvLyBkYXlzXG4gICAgICBwb3M6IDQsXG4gICAgICBtdWx0aXBsaWVyOiA4NjQwMFxuICAgIH0sXG4gICAgeyAvLyBob3Vyc1xuICAgICAgcG9zOiA1LFxuICAgICAgbXVsdGlwbGllcjogMzYwMFxuICAgIH0sXG4gICAgeyAvLyBtaW51dGVzXG4gICAgICBwb3M6IDYsXG4gICAgICBtdWx0aXBsaWVyOiA2MFxuICAgIH0sXG4gICAgeyAvLyBzZWNvbmRzXG4gICAgICBwb3M6IDcsXG4gICAgICBtdWx0aXBsaWVyOiAxXG4gICAgfVxuICBdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodHlwZW9mIG1hdGNoZXNbcGFydHNbaV0ucG9zXSAhPSAndW5kZWZpbmVkJykge1xuICAgICAgZHVyYXRpb25JblNlYyArPSBwYXJzZUludChtYXRjaGVzW3BhcnRzW2ldLnBvc10pICogcGFydHNbaV0ubXVsdGlwbGllcjtcbiAgICB9XG4gIH1cbiAgdmFyIHRvdGFsU2VjID0gZHVyYXRpb25JblNlYztcbiAgLy8gSG91cnMgZXh0cmFjdGlvblxuICBpZiAoZHVyYXRpb25JblNlYyA+IDM1OTkpIHtcbiAgICBvdXRwdXQucHVzaChwYXJzZUludChkdXJhdGlvbkluU2VjIC8gMzYwMCkpO1xuICAgIGR1cmF0aW9uSW5TZWMgJT0gMzYwMDtcbiAgfVxuICAvLyBNaW51dGVzIGV4dHJhY3Rpb24gd2l0aCBsZWFkaW5nIHplcm9cbiAgb3V0cHV0LnB1c2goKCcwJyArIHBhcnNlSW50KGR1cmF0aW9uSW5TZWMgLyA2MCkpLnNsaWNlKC0yKSk7XG4gIC8vIFNlY29uZHMgZXh0cmFjdGlvbiB3aXRoIGxlYWRpbmcgemVyb1xuICBvdXRwdXQucHVzaCgoJzAnICsgZHVyYXRpb25JblNlYyAlIDYwKS5zbGljZSgtMikpO1xuICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIG91dHB1dC5qb2luKCc6Jyk7XG4gIGVsc2UgaWYgKGZvcm1hdCA9PT0gJ3NlYycpXG4gICAgcmV0dXJuIHRvdGFsU2VjO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJzZUR1cmF0aW9uO1xuIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/aW5kZW50ZWRTeW50YXghLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9pbmRleC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD0zNWUxMzYxZiZsYW5nPXNhc3Mmc2NvcGVkPXRydWUmXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/aW5kZW50ZWRTeW50YXghLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9pbmRleC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD0zNWUxMzYxZiZsYW5nPXNhc3Mmc2NvcGVkPXRydWUmXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzP2luZGVudGVkU3ludGF4IS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9MzVlMTM2MWYmbGFuZz1zYXNzJnNjb3BlZD10cnVlJlwiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/aW5kZW50ZWRTeW50YXghLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9pbmRleC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD0zNWUxMzYxZiZsYW5nPXNhc3Mmc2NvcGVkPXRydWUmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzP2luZGVudGVkU3ludGF4IS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9MzVlMTM2MWYmbGFuZz1zYXNzJnNjb3BlZD10cnVlJlwiIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJtYWluW2RhdGEtdi0zNWUxMzYxZl17bWluLWhlaWdodDoxMDB2aDttYXJnaW4tdG9wOjExMHB4fVxcblwiLCBcIlwiXSk7XG4iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO3JldHVybiBfYygnbWFpbicsW19jKFwicmVjb21tZW5kZWQtdmlkZW9zXCIse3RhZzpcImNvbXBvbmVudFwifSksX2MoJ2hyJyksX2MoXCJwb3B1bGFyLXZpZGVvc1wiLHt0YWc6XCJjb21wb25lbnRcIn0pXSwxKX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3JlY29tbWVuZGVkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3JlY29tbWVuZGVkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsIjx0ZW1wbGF0ZSBsYW5nPVwicHVnXCI+XG5zZWN0aW9uLnNlY3Rpb25cbiAgLmNvbnRhaW5lclxuICAgIGgyLnRpdGxlLmlzLTUgI1tzdHJvbmcgUmVjb21tZW5kZWRdXG4gICAgdmlkZW8tbGlzdCg6dmlkZW9zPVwidmlkZW9zXCIpXG48L3RlbXBsYXRlPlxuXG48c2NyaXB0PlxuaW1wb3J0IHN0b3JlIGZyb20gJ35zdG9yZSdcbmltcG9ydCB1dGlsIGZyb20gJ351dGlsJ1xuaW1wb3J0IGZpbHRlcnMgZnJvbSAnfmFwaS9maWx0ZXJzJ1xuaW1wb3J0IFZpZGVvTGlzdCBmcm9tICd+Y29tcG9uZW50cy9WaWRlb0xpc3QudnVlJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNvbXBvbmVudHM6IHtcbiAgICBWaWRlb0xpc3RcbiAgfSxcbiAgZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdmlkZW9zOiBbXSxcbiAgICAgIGxpbWl0OiAxMixcbiAgICAgIGxvYWRlZDogZmFsc2VcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZWQoKSB7XG4gICAgdGhpcy5sb2FkVmlkZW9zKClcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGxvYWRWaWRlb3MoKSB7XG4gICAgICB0aGlzLmxvYWRlZCA9IGZhbHNlXG4gICAgICBzdG9yZS5mZXRjaFRvcGljcygpLnRoZW4odG9waWNzID0+IHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgIHE6IHV0aWwucHJlcGFyZVF1ZXJ5KHRvcGljcyksXG4gICAgICAgICAgdmlkZW9DYXRlZ29yeUlkOiAyNyxcbiAgICAgICAgICBvcmRlcjogZmlsdGVycy5vcmRlclszXS52YWx1ZSxcbiAgICAgICAgICBtYXhSZXN1bHRzOiB0aGlzLmxpbWl0LFxuICAgICAgICAgIHB1Ymxpc2hlZEFmdGVyOiBmaWx0ZXJzLnRpbWVmcmFtZVszXS52YWx1ZVxuICAgICAgICB9XG5cbiAgICAgICAgc3RvcmUuZmV0Y2hWaWRlb3MocGFyYW1zKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgdGhpcy52aWRlb3MgPSByZXN1bHQudmlkZW9zXG4gICAgICAgICAgdGhpcy4kUHJvZ3Jlc3MuZmluaXNoKClcbiAgICAgICAgICB0aGlzLmxvYWRlZCA9IHRydWVcbiAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgIHRoaXMuJFByb2dyZXNzLmZhaWwoKVxuICAgICAgICB9KVxuICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICB0aGlzLiRQcm9ncmVzcy5mYWlsKClcbiAgICAgIH0pXG4gICAgfVxuICB9XG59XG48L3NjcmlwdD4iLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL3JlY29tbWVuZGVkLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0xZDJkYjhmZCZsYW5nPXB1ZyZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9yZWNvbW1lbmRlZC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL3JlY29tbWVuZGVkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ3NlY3Rpb24nLHtzdGF0aWNDbGFzczpcInNlY3Rpb25cIn0sW19jKCdkaXYnLHtzdGF0aWNDbGFzczpcImNvbnRhaW5lclwifSxbX3ZtLl9tKDApLF9jKCd2aWRlby1saXN0Jyx7YXR0cnM6e1widmlkZW9zXCI6X3ZtLnZpZGVvc319KV0sMSldKX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbZnVuY3Rpb24gKCkge3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO3JldHVybiBfYygnaDInLHtzdGF0aWNDbGFzczpcInRpdGxlIGlzLTVcIn0sW19jKCdzdHJvbmcnLFtfdm0uX3YoXCJSZWNvbW1lbmRlZFwiKV0pXSl9XVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3BvcHVsYXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vcG9wdWxhci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCI8dGVtcGxhdGUgbGFuZz1cInB1Z1wiPlxuc2VjdGlvbi5zZWN0aW9uXG4gIC5jb250YWluZXJcbiAgICBoMi50aXRsZS5pcy01ICNbc3Ryb25nIFRyZW5kaW5nXVxuICAgIHZpZGVvLWxpc3QoOnZpZGVvcz1cInZpZGVvc1wiKVxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmltcG9ydCBzdG9yZSBmcm9tICd+c3RvcmUnXG5pbXBvcnQgdXRpbCBmcm9tICd+dXRpbCdcbmltcG9ydCBmaWx0ZXJzIGZyb20gJ35hcGkvZmlsdGVycydcbmltcG9ydCBWaWRlb0xpc3QgZnJvbSAnfmNvbXBvbmVudHMvVmlkZW9MaXN0LnZ1ZSdcblxuZXhwb3J0IGRlZmF1bHQge1xuICBjb21wb25lbnRzOiB7XG4gICAgVmlkZW9MaXN0XG4gIH0sXG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZpZGVvczogW10sXG4gICAgICBsaW1pdDogMTYsXG4gICAgICBsb2FkZWQ6IGZhbHNlXG4gICAgfVxuICB9LFxuICBjcmVhdGVkKCkge1xuICAgIHRoaXMubG9hZFZpZGVvcygpXG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBsb2FkVmlkZW9zKCkge1xuICAgICAgdGhpcy5sb2FkZWQgPSBmYWxzZVxuICAgICAgc3RvcmUuZmV0Y2hUb3BpY3MoKS50aGVuKHRvcGljcyA9PiB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICBxOiB1dGlsLnByZXBhcmVRdWVyeSh0b3BpY3MpLFxuICAgICAgICAgIHZpZGVvQ2F0ZWdvcnlJZDogMjcsXG4gICAgICAgICAgb3JkZXI6IGZpbHRlcnMub3JkZXJbMF0udmFsdWUsXG4gICAgICAgICAgbWF4UmVzdWx0czogdGhpcy5saW1pdCxcbiAgICAgICAgICBwdWJsaXNoZWRBZnRlcjogZmlsdGVycy50aW1lZnJhbWVbMl0udmFsdWVcbiAgICAgICAgfVxuXG4gICAgICAgIHN0b3JlLmZldGNoVmlkZW9zKHBhcmFtcykudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgIHRoaXMudmlkZW9zID0gcmVzdWx0LnZpZGVvc1xuICAgICAgICAgIHRoaXMuJFByb2dyZXNzLmZpbmlzaCgpXG4gICAgICAgICAgdGhpcy5sb2FkZWQgPSB0cnVlXG4gICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICB0aGlzLiRQcm9ncmVzcy5mYWlsKClcbiAgICAgICAgfSlcbiAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgICAgdGhpcy4kUHJvZ3Jlc3MuZmFpbCgpXG4gICAgICB9KVxuICAgIH1cbiAgfVxufVxuPC9zY3JpcHQ+IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsIjx0ZW1wbGF0ZSBsYW5nPVwicHVnXCI+XG5tYWluXG4gIGNvbXBvbmVudChpcz1cInJlY29tbWVuZGVkLXZpZGVvc1wiKVxuICBoclxuICBjb21wb25lbnQoaXM9XCJwb3B1bGFyLXZpZGVvc1wiKVxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmltcG9ydCBjb25maWcgZnJvbSAnfmNvbmZpZydcbmltcG9ydCByZWNvbW1lbmRlZFZpZGVvcyBmcm9tICd+cGFnZXMvdmlkZW9zL3JlY29tbWVuZGVkLnZ1ZSdcbmltcG9ydCBwb3B1bGFyVmlkZW9zIGZyb20gJ35wYWdlcy92aWRlb3MvcG9wdWxhci52dWUnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY29tcG9uZW50czoge1xuICAgICdyZWNvbW1lbmRlZC12aWRlb3MnOiByZWNvbW1lbmRlZFZpZGVvcyxcbiAgICAncG9wdWxhci12aWRlb3MnOiBwb3B1bGFyVmlkZW9zXG4gIH0sXG4gIGhlYWQ6IHtcbiAgICB0aXRsZSgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlubmVyOiBjb25maWcuYXBwLm5hbWUsXG4gICAgICAgIHNlcGFyYXRvcjogJyAnXG4gICAgICB9XG4gICAgfSxcbiAgICBtZXRhKCkge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgeyBpZDogJ2Rlc2NyaXB0aW9uJywgbmFtZTogJ2Rlc2NyaXB0aW9uJywgY29udGVudDogY29uZmlnLmFwcC5kZXNjcmlwdGlvbiB9XG4gICAgICBdXG4gICAgfVxuICB9LFxuICBjcmVhdGVkKCkge1xuICAgIHRoaXMuJFByb2dyZXNzLnN0YXJ0KClcbiAgfVxufVxuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwic2Fzc1wiIHNjb3BlZD5cbm1haW5cbiAgbWluLWhlaWdodDogMTAwdmhcbiAgbWFyZ2luLXRvcDogMTEwcHhcbjwvc3R5bGU+IiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9wb3B1bGFyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1mOTkyZmE2YSZsYW5nPXB1ZyZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9wb3B1bGFyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vcG9wdWxhci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7dmFyIF92bT10aGlzO3ZhciBfaD1fdm0uJGNyZWF0ZUVsZW1lbnQ7dmFyIF9jPV92bS5fc2VsZi5fY3x8X2g7cmV0dXJuIF9jKCdzZWN0aW9uJyx7c3RhdGljQ2xhc3M6XCJzZWN0aW9uXCJ9LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJjb250YWluZXJcIn0sW192bS5fbSgwKSxfYygndmlkZW8tbGlzdCcse2F0dHJzOntcInZpZGVvc1wiOl92bS52aWRlb3N9fSldLDEpXSl9XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW2Z1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ2gyJyx7c3RhdGljQ2xhc3M6XCJ0aXRsZSBpcy01XCJ9LFtfYygnc3Ryb25nJyxbX3ZtLl92KFwiVHJlbmRpbmdcIildKV0pfV1cblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTM1ZTEzNjFmJnNjb3BlZD10cnVlJmxhbmc9cHVnJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTM1ZTEzNjFmJmxhbmc9c2FzcyZzY29wZWQ9dHJ1ZSZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiMzVlMTM2MWZcIixcbiAgbnVsbFxuICBcbilcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9